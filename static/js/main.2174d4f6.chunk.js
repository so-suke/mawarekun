(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{23:function(e,t,n){e.exports={bg_warning:"App_bg_warning__2uihL",font_button:"App_font_button__uusV8"}},41:function(e,t,n){e.exports={font_button:"NumberButtons_font_button__1NMiq"}},50:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n(34),i=n.n(o),s=(n(50),n(21)),u=n.n(s),b=n(35),j=n(6),l=(n(52),n(77)),m=n(78),d=n(42),O=n(83),f=n(43),h=n(81),p=n(79),x=n(82),N=n(80),v=n(15),g=["DoruNakano","LiNakano","NtNakano"],S=new Map([[g[0],4.38],[g[1],4],[g[2],4]]),y=(a={},Object(v.a)(a,g[0],114),Object(v.a)(a,g[1],125),Object(v.a)(a,g[2],125),a),R="normal",w="continueStart",k="resetStart",C="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",I="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",_="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",E="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",B="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",M="\u30a8\u30e9\u30fc\n\u5927\u5f53\u305f\u308a\u7389\u6570\u306b\u95a2\u3057\u3066\n\u5927\u5f53\u524d\u3088\u308a\u5927\u5f53\u5f8c\u306e\u65b9\u304c\u5927\u304d\u304f\u306a\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046",z=function(e){return e[e.length-1]},F=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=n(36),P=n(37),A=Object(P.a)(O.a)(r||(r=Object(T.a)(["\n  font-size: 0.4rem;\n"]))),H=n(1);function L(e){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(A,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===e.rotationNumberInputed)throw _;e.setIsCorrectBallNumberConfirm(!1),e.setRotations(e.rotations.concat({type:w,rotationNumber:Number(e.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:e.rotationRate})),e.clearRotationNumberInputed()}catch(t){alert(t)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function D(e){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(A,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(e.isResetStarted())throw I;if(""===e.rotationNumberInputed)throw _;if(""===e.selectStoreRef.current.value)throw E;e.setRotations(e.rotations.concat({type:k,rotationNumber:Number(e.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),e.clearRotationNumberInputed();var t=new Date,n=Object(N.a)(t,"HH:mm");e.setRemarks((function(t){var a=""===t?"":"\n";e.setRemarks("".concat(t).concat(a,"\u958b\u59cb\u6642\u9593\uff1a").concat(n))})),localStorage.setItem("startTime",n)}catch(a){alert(a)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}var J=n(41),U=n.n(J);function V(e){return Object(H.jsx)(H.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(t){return Object(H.jsx)(O.a,{className:"col-4 py-3 ".concat(U.a.font_button),onClick:function(){return e.setRotationNumberInputed(e.rotationNumberInputed+t)},children:t},t)}))})}function K(e){return Object(H.jsx)(H.Fragment,{children:e.rotations.map((function(e,t){var n="";return e.type===k?n="".concat(e.rotationNumber," --start--"):e.type===w?n="".concat(e.rotationNumber," > start"):e.type===R&&(n="".concat(e.rotationNumber," ").concat(e.rotationRateMostRecent," ").concat(e.rotationRate)),Object(H.jsx)(h.a.Item,{className:"py-1",children:n},t)}))})}var Z=n(44);function q(e){var t=[Object(H.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],n=e.storeNames.map((function(e){return Object(H.jsx)("option",{value:e,children:e},e)})),a=[t].concat(Object(Z.a)(n));return Object(H.jsx)(H.Fragment,{children:a})}var G=n(23),Y=n.n(G),Q=n(55).default;var W=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],s=o[1],v=Object(c.useState)([]),I=Object(j.a)(v,2),_=I[0],E=I[1],T=Object(c.useState)(0),P=Object(j.a)(T,2),A=P[0],J=P[1],U=Object(c.useState)(0),Z=Object(j.a)(U,2),G=Z[0],W=Z[1],X=Object(c.useState)(0),$=Object(j.a)(X,2),ee=$[0],te=$[1],ne=Object(c.useState)(""),ae=Object(j.a)(ne,2),re=ae[0],ce=ae[1],oe=Object(c.useState)(""),ie=Object(j.a)(oe,2),se=ie[0],ue=ie[1],be=Object(c.useState)(""),je=Object(j.a)(be,2),le=je[0],me=je[1],de=Object(c.useState)(""),Oe=Object(j.a)(de,2),fe=Oe[0],he=Oe[1],pe=Object(c.useState)(""),xe=Object(j.a)(pe,2),Ne=xe[0],ve=xe[1],ge=Object(c.useState)(""),Se=Object(j.a)(ge,2),ye=Se[0],Re=Se[1],we=Object(c.useState)(""),ke=Object(j.a)(we,2),Ce=ke[0],Ie=ke[1],_e=Object(c.useState)(""),Ee=Object(j.a)(_e,2),Be=Ee[0],Me=Ee[1],ze=Object(c.useState)(!0),Fe=Object(j.a)(ze,2),Te=Fe[0],Pe=Fe[1],Ae=Object(c.useState)(""),He=Object(j.a)(Ae,2),Le=He[0],De=He[1],Je=Object(c.useState)(""),Ue=Object(j.a)(Je,2),Ve=Ue[0],Ke=Ue[1],Ze=Object(c.useState)(0),qe=Object(j.a)(Ze,2),Ge=qe[0],Ye=qe[1],Qe=Object(c.useState)(""),We=Object(j.a)(Qe,2),Xe=We[0],$e=We[1],et=Object(c.useState)(""),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],rt=Object(c.useState)(0),ct=Object(j.a)(rt,2),ot=ct[0],it=ct[1],st=Object(c.useState)(0),ut=Object(j.a)(st,2),bt=ut[0],jt=ut[1],lt=Object(c.useRef)(null),mt=Object(c.useRef)(document.createElement("select")),dt=Object(c.useRef)(document.createElement("button")),Ot=Object(c.useCallback)((function(e,t){localStorage.setItem("".concat(e,"_").concat(n),t)}),[n]),ft=Object(c.useCallback)((function(e,t){return localStorage.getItem("".concat(e,"_").concat(n))||t}),[n]);Object(c.useEffect)((function(){var e=Number(localStorage.getItem("pageIndex")||"0");a(e)}),[]),Object(c.useEffect)((function(){var e=ft("investmentCnt","0"),t=JSON.parse(ft("rotations","[]")),n=ft("storeName",""),a=ft("machineName",""),r=ft("ballNumberConfirm",""),c=ft("border","18.0"),o=ft("remarks",""),i=ft("ballNumberBigHitBefore","0"),s=ft("ballNumberBigHitAfter","0"),u=Number(ft("roundBase","")),b=ft("roundRecord",""),j=ft("wonBallNumberRecord","");W(Number(e)),E(t),J(function(e){return 0===e.length?0:z(e).rotationRate}(t)),te(function(e){var t=0;return e.forEach((function(n,a){n.type!==k&&n.type!==w&&(t+=n.rotationNumber-e[a-1].rotationNumber)})),t}(t)),ue(n),me(a),he(r),ce(c),Ie(o),De(i),Ke(s),Ye(u),$e(b),at(j)}),[ft]);var ht=function(e){return e.split(/[\n.,]/).map((function(e){return Number(e)})).reduce((function(e,t){return e+t}),0)};Object(c.useEffect)((function(){var e=ht(Xe);it(e)}),[Xe]),Object(c.useEffect)((function(){var e=ht(nt);jt(e)}),[nt]),Object(c.useEffect)((function(){var e=Number((bt/ot).toFixed(1));Ye(e),Ot("roundBase",""+e)}),[ot,bt,Ot]),Object(c.useEffect)((function(){lt.current.scrollTop=lt.current.scrollHeight,Ot("rotations",JSON.stringify(_))}),[_,Ot]),Object(c.useEffect)((function(){Ot("investmentCnt",""+G)}),[G,Ot]),Object(c.useEffect)((function(){Ot("border",re)}),[re,Ot]),Object(c.useEffect)((function(){Ot("ballNumberConfirm",fe)}),[fe,Ot]),Object(c.useEffect)((function(){Ot("remarks",Ce)}),[Ce,Ot]),Object(c.useEffect)((function(){Ot("machineName",le)}),[le,Ot]),Object(c.useEffect)((function(){var e=S.get(se);Me(String(e)),Ot("storeName",se)}),[se,Ot]);var pt=Object(c.useMemo)((function(){return 0===A?0:Number((1e3/Number(re)-1e3/A).toFixed(1))}),[re,A]);function xt(){return _.length>0&&_[0].type===k}function Nt(){s("")}function vt(){return(pt*ee).toFixed(0)}function gt(e){try{if(!y.hasOwnProperty(e))throw new Error(B);return y[e]}catch(t){return alert(t),125}}function St(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(E([]),J(0),W(0),te(0),he(""),me(""),Ie(""),$e(""),at(""))}function yt(){return(yt=Object(b.a)(u.a.mark((function e(){var t,n,a,r,c,o,i,b,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Ne&&""!==ye){e.next=3;break}return alert("\u7389\u6570\u307e\u305f\u306f\u56de\u8ee2\u6570\u3092\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046"),e.abrupt("return");case 3:if(!((t=Number(fe)-Number(Ne))<0)){e.next=7;break}return alert("\u81ea\u52d5\u56de\u8ee2\u306e\u7389\u6570\u306f\u3001\u78ba\u8a8d\u7528\u7389\u6570\u3088\u308a\u5927\u304d\u3044\u5024\u3092\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002"),e.abrupt("return");case 7:if(n=function(){return F(1).then((function(){return dt.current.click()}))},a=t/gt(se),r=Number(ye)-z(_).rotationNumber,Number.isInteger(a)){e.next=17;break}if(window.confirm("\u6295\u8cc7\u56de\u6570\u304c\u6574\u6570\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u534a\u7aef\u3092\u9664\u3044\u3066\u8a08\u7b97\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")){e.next=13;break}return e.abrupt("return");case 13:c=a-parseInt(String(a)),a-=c,o=Math.round(r*c),r-=o;case 17:if(i=Math.floor(r/a),window.confirm("\u81ea\u52d5\u56de\u8ee2\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f\n\u6295\u8cc7\u56de\u6570\uff1a".concat(a,"\u56de\n\u5e73\u5747\u56de\u8ee2\u6570\uff1a").concat(i))){e.next=20;break}return e.abrupt("return");case 20:b=0;case 21:if(!(b<a)){e.next=29;break}return j=Number(ye)-i*(a-1-b),s(String(j)),e.next=26,n();case 26:b++,e.next=21;break;case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){try{if(!1===xt())throw C;Number(fe)<gt(se)?Pe(!1):Pe(!0);var e=G+1,t=String(i).length<3&&String(z(_).rotationNumber).length>1?function(){var e=String(z(_).rotationNumber),t=function(){var t=Number(e.slice(0,-2));return function(e,t){return e>t}(Number(e.slice(-2)),Number(i))?t+1:t}(),n=("00"+i).slice(-2);return Number(t+n)}():Number(i),n=Number(t)-z(_).rotationNumber,a=Number(Be)/4,r=Number((2*n*a).toFixed(1)),c=ee+n,o=Number((c*(1e3/(500*e))*a).toFixed(1));Nt(),W(e),te(c),J(o),E(_.concat({type:R,rotationNumber:Number(t),rotationRateMostRecent:r,rotationRate:o})),he(String(Number(fe)-gt(se)))}catch(s){alert(s)}}return Object(H.jsx)("div",{className:"App",children:Object(H.jsxs)(l.a,{className:"pt-3 ".concat(Te?"":Y.a.bg_warning),children:[Object(H.jsxs)(m.a,{children:[Object(H.jsxs)(d.a,{children:[Object(H.jsx)("p",{className:"mb-0",children:Object(H.jsxs)("span",{children:[n,"\u30da\u30fc\u30b8\u76ee"]})}),Object(H.jsxs)("p",{className:"mb-0",children:[Object(H.jsx)("span",{children:pt})," * ",Object(H.jsx)("span",{children:ee})," = ",Object(H.jsx)("span",{"data-testid":"work-amount",children:vt()})]}),Object(H.jsxs)(m.a,{className:"justify-content-between",children:[Object(H.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var e=_.length;if(0!==e){Pe(!0),z(_).type===R&&W(G-1);var t=_.filter((function(t,n){return n!==e-1}));if(1===t.length||0===t.length?J(0):J(z(t).rotationRate),z(_).type===R&&t.length>0){var n=z(_).rotationNumber-z(t).rotationNumber;te(ee-n)}E(t),he(String(Number(fe)+gt(se)))}}()},children:"1\u884c\u524a\u9664"}),Object(H.jsx)(O.a,{className:"mb-1 ".concat(0===n?"d-none":""),variant:"primary",onClick:function(){return localStorage.setItem("pageIndex",""+(n-1)),void a(n-1)},children:"\u524d"}),Object(H.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){return localStorage.setItem("pageIndex",""+(n+1)),void a(n+1)},children:"\u6b21"})]}),Object(H.jsx)(f.a,{className:"mb-1",id:"rotationNumberInput",value:i,onChange:function(e){s(e.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(H.jsxs)(m.a,{className:"mb-2",children:[Object(H.jsx)(V,{setRotationNumberInputed:s,rotationNumberInputed:i}),Object(H.jsx)(O.a,{variant:"primary",className:"col-4 ".concat(Y.a.font_button),onClick:function(){return Nt()},children:"C"}),Object(H.jsx)(O.a,{variant:"primary",className:"col-4"}),Object(H.jsx)(O.a,{variant:"primary",className:"col-4 py-3",ref:dt,onClick:function(){return Rt()},children:"\u56de\u8ee2"}),Object(H.jsx)(L,{rotationNumberInputed:i,rotationRate:A,rotations:_,clearRotationNumberInputed:Nt,setRotations:E,setIsCorrectBallNumberConfirm:Pe}),Object(H.jsx)(D,{rotationNumberInputed:i,rotations:_,selectStoreRef:mt,isResetStarted:xt,clearRotationNumberInputed:Nt,setRotations:E,setRemarks:Ie})]})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(h.a,{className:"rotationList",ref:lt,children:Object(H.jsx)(K,{rotations:_})}),Object(H.jsxs)("div",{className:"mt-2",children:[Object(H.jsxs)("div",{className:"mb-2 ".concat("NtNakano"===se?"":"d-none"),children:[Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u5927\u5f53\u524d\u7389\u6570"})}),Object(H.jsx)(f.a,{type:"number",value:Le,onChange:function(e){var t=e.target.value;Ot("ballNumberBigHitBefore",t),De(t)}})]}),Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u5927\u5f53\u5f8c\u7389\u6570"})}),Object(H.jsx)(f.a,{type:"number",value:Ve,onChange:function(e){var t=e.target.value;Ot("ballNumberBigHitAfter",t),Ke(t)}})]}),Object(H.jsx)(O.a,{variant:"primary",size:"sm",onClick:function(){return function(){try{if(window.confirm("\u7372\u5f97\u7389\u6570\u306e\u81ea\u52d5\u8a08\u7b97\u3001\u5165\u529b\u3092\u884c\u3044\u307e\u3059")){var e=Number(Ve)-Number(Le);if(e<0)throw M;at("".concat(nt,"\n").concat(e,","))}}catch(t){alert(t)}}()},children:"\u81ea\u52d5\u8a08\u7b97"})]}),Object(H.jsx)("span",{className:"mb-0",children:"\u7372\u5f97\u7389\u6570"}),Object(H.jsx)(p.a,{children:Object(H.jsx)(f.a,{as:"textarea",rows:2,placeholder:"\u7372\u5f97\u7389\u6570",inputMode:"numeric",value:nt,onChange:function(e){var t=e.target.value;Ot("wonBallNumberRecord",t),at(t)}})}),Object(H.jsx)("span",{className:"mb-0",children:"\u30e9\u30a6\u30f3\u30c9\u6570"}),Object(H.jsx)(p.a,{children:Object(H.jsx)(f.a,{as:"textarea",rows:2,placeholder:"\u30e9\u30a6\u30f3\u30c9",inputMode:"numeric",value:Xe,onChange:function(e){var t=e.target.value;Ot("roundRecord",t),$e(t)}})}),Object(H.jsxs)("p",{className:"mb-0",children:["rb: ",Ge]})]})]})]}),Object(H.jsxs)(m.a,{children:[Object(H.jsxs)(d.a,{children:[Object(H.jsx)(m.a,{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(H.jsx)(f.a,{value:fe,"data-testid":"ball-number-confirm",onChange:function(e){var t=e.target.value;he(t)},type:"number"})]})}),Object(H.jsx)(m.a,{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(f.a,{value:Ne,"data-testid":"ball-number-auto-rotation",onChange:function(e){var t=e.target.value;ve(t)},type:"number",placeholder:"\u7389\u6570"}),Object(H.jsx)(f.a,{value:ye,"data-testid":"ball-number-auto-rotation",onChange:function(e){var t=e.target.value;Re(t)},type:"number",placeholder:"\u56de\u8ee2\u6570"}),Object(H.jsx)(p.a.Append,{children:Object(H.jsx)(O.a,{variant:"outline-primary",onClick:function(){return function(){return yt.apply(this,arguments)}()},children:"\u81ea\u56de"})})]})}),Object(H.jsx)(m.a,{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(H.jsx)(f.a,{value:re,"data-testid":"border",onChange:function(e){ce(e.target.value)},type:"number"})]})}),Object(H.jsx)(m.a,{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u5099\u8003"})}),Object(H.jsx)(x.a.Control,{as:"textarea",rows:2,value:Ce,onChange:function(e){var t=e.target.value;Ie(t)}})]})}),Object(H.jsx)(m.a,{children:Object(H.jsx)(O.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var e=new Date,t=Object(N.a)(e,"yyyy/MM/dd"),n=localStorage.getItem("startTime"),a=Object(N.a)(e,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(t)),r.append("timeStart","".concat(n)),r.append("timeEnd","".concat(a)),r.append("border","".concat(re)),r.append("rotationRate","".concat(A)),r.append("rotationUnitPrice","".concat(pt)),r.append("rotationNumberTotal","".concat(ee)),r.append("roundBase","".concat(Ge)),r.append("workAmount","".concat(vt())),r.append("machineName","".concat(le)),r.append("storeName","".concat(se)),r.append("remarks","".concat(Ce)),Q.post("https://script.google.com/macros/s/AKfycbw-ALS3LfFEJasC1FZlKlGUYzm7_cebhvdsASVzf6ZjDM2dttct9hwsHg/exec",r).then((function(e){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),St()})).catch((function(e){alert(e)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(H.jsx)(m.a,{children:Object(H.jsx)(O.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return St()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)("div",{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u5e97\u540d"})}),Object(H.jsx)(x.a.Control,{as:"select",value:se,onChange:function(e){ue(e.target.value)},ref:mt,children:Object(H.jsx)(q,{storeNames:g})})]})}),Object(H.jsx)("div",{children:Object(H.jsxs)(p.a,{size:"sm",children:[Object(H.jsx)(p.a.Prepend,{children:Object(H.jsx)(p.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(H.jsx)(f.a,{value:le,onChange:function(e){var t=e.target.value;me(t)}})]})}),Object(H.jsx)("div",{children:Object(H.jsxs)("div",{className:"mr-2",children:["\u4ea4\u63db\u7387:",Be]})})]})]})]})})};i.a.render(Object(H.jsx)(W,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.2174d4f6.chunk.js.map