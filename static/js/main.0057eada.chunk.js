(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{23:function(e,t,n){e.exports={bg_warning:"App_bg_warning__2uihL",font_button:"App_font_button__uusV8"}},41:function(e,t,n){e.exports={font_button:"NumberButtons_font_button__1NMiq"}},50:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n(34),i=n.n(o),s=(n(50),n(21)),u=n.n(s),b=n(35),j=n(6),l=(n(52),n(77)),m=n(78),d=n(42),O=n(83),f=n(43),p=n(81),h=n(79),x=n(82),N=n(80),v=n(15),g=["DoruNakano","LiNakano","NtNakano"],S=new Map([[g[0],4.38],[g[1],4],[g[2],4]]),y=(a={},Object(v.a)(a,g[0],114),Object(v.a)(a,g[1],125),Object(v.a)(a,g[2],125),a),R="normal",w="continueStart",C="resetStart",k="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",I="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",_="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",E="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",M="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",F=function(e){return e[e.length-1]},T=function(e){return new Promise((function(t){return setTimeout(t,e)}))},B=n(36),P=n(37),z=Object(P.a)(O.a)(r||(r=Object(B.a)(["\n  font-size: 0.4rem;\n"]))),A=n(1);function H(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(z,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===e.rotationNumberInputed)throw _;e.setIsCorrectBallNumberConfirm(!1),e.setRotations(e.rotations.concat({type:w,rotationNumber:Number(e.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:e.rotationRate})),e.clearRotationNumberInputed()}catch(t){alert(t)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function L(e){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(z,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(e.isResetStarted())throw I;if(""===e.rotationNumberInputed)throw _;if(""===e.selectStoreRef.current.value)throw E;e.setRotations(e.rotations.concat({type:C,rotationNumber:Number(e.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),e.clearRotationNumberInputed(),localStorage.setItem("startTime",Object(N.a)(new Date,"HH:mm"))}catch(t){alert(t)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}var D=n(41),J=n.n(D);function U(e){return Object(A.jsx)(A.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(t){return Object(A.jsx)(O.a,{className:"col-4 py-3 ".concat(J.a.font_button),onClick:function(){return e.setRotationNumberInputed(e.rotationNumberInputed+t)},children:t},t)}))})}function V(e){return Object(A.jsx)(A.Fragment,{children:e.rotations.map((function(e,t){var n="";return e.type===C?n="".concat(e.rotationNumber," --start--"):e.type===w?n="".concat(e.rotationNumber," > start"):e.type===R&&(n="".concat(e.rotationNumber," ").concat(e.rotationRateMostRecent," ").concat(e.rotationRate)),Object(A.jsx)(p.a.Item,{className:"py-1",children:n},t)}))})}var K=n(44);function Z(e){var t=[Object(A.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],n=e.storeNames.map((function(e){return Object(A.jsx)("option",{value:e,children:e},e)})),a=[t].concat(Object(K.a)(n));return Object(A.jsx)(A.Fragment,{children:a})}var q=n(23),G=n.n(q),Y=n(55).default;var Q=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],s=o[1],v=Object(c.useState)([]),I=Object(j.a)(v,2),_=I[0],E=I[1],B=Object(c.useState)(0),P=Object(j.a)(B,2),z=P[0],D=P[1],J=Object(c.useState)(0),K=Object(j.a)(J,2),q=K[0],Q=K[1],W=Object(c.useState)(0),X=Object(j.a)(W,2),$=X[0],ee=X[1],te=Object(c.useState)(""),ne=Object(j.a)(te,2),ae=ne[0],re=ne[1],ce=Object(c.useState)(""),oe=Object(j.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(c.useState)(""),be=Object(j.a)(ue,2),je=be[0],le=be[1],me=Object(c.useState)(""),de=Object(j.a)(me,2),Oe=de[0],fe=de[1],pe=Object(c.useState)(""),he=Object(j.a)(pe,2),xe=he[0],Ne=he[1],ve=Object(c.useState)(""),ge=Object(j.a)(ve,2),Se=ge[0],ye=ge[1],Re=Object(c.useState)(""),we=Object(j.a)(Re,2),Ce=we[0],ke=we[1],Ie=Object(c.useState)(""),_e=Object(j.a)(Ie,2),Ee=_e[0],Me=_e[1],Fe=Object(c.useState)(!0),Te=Object(j.a)(Fe,2),Be=Te[0],Pe=Te[1],ze=Object(c.useState)(0),Ae=Object(j.a)(ze,2),He=Ae[0],Le=Ae[1],De=Object(c.useState)("4.10.6.4.10.6"),Je=Object(j.a)(De,2),Ue=Je[0],Ve=Je[1],Ke=Object(c.useState)("1000.1000"),Ze=Object(j.a)(Ke,2),qe=Ze[0],Ge=Ze[1],Ye=Object(c.useState)(0),Qe=Object(j.a)(Ye,2),We=Qe[0],Xe=Qe[1],$e=Object(c.useState)(0),et=Object(j.a)($e,2),tt=et[0],nt=et[1],at=Object(c.useRef)(null),rt=Object(c.useRef)(document.createElement("select")),ct=Object(c.useRef)(document.createElement("button")),ot=Object(c.useCallback)((function(e,t){localStorage.setItem("".concat(e,"_").concat(n),t)}),[n]),it=Object(c.useCallback)((function(e,t){return localStorage.getItem("".concat(e,"_").concat(n))||t}),[n]);Object(c.useEffect)((function(){var e=it("investmentCnt","0"),t=JSON.parse(it("rotations","[]")),n=it("storeName",""),a=it("machineName",""),r=it("ballNumberConfirm",""),c=it("border","18.0"),o=it("remarks",""),i=Number(it("roundBase","")),s=it("roundRecord",""),u=it("wonBallNumberRecord","");Q(Number(e)),E(t),D(function(e){return 0===e.length?0:F(e).rotationRate}(t)),ee(function(e){var t=0;return e.forEach((function(n,a){n.type!==C&&n.type!==w&&(t+=n.rotationNumber-e[a-1].rotationNumber)})),t}(t)),se(n),le(a),fe(r),re(c),ke(o),Le(i),Ve(s),Ge(u)}),[it]);var st=function(e){return e.split(/[\n.,]/).map((function(e){return Number(e)})).reduce((function(e,t){return e+t}),0)};Object(c.useEffect)((function(){var e=st(Ue);Xe(e)}),[Ue]),Object(c.useEffect)((function(){var e=st(qe);nt(e)}),[qe]),Object(c.useEffect)((function(){var e=Number((tt/We).toFixed(1));Le(e),ot("roundBase",""+e)}),[We,tt,ot]),Object(c.useEffect)((function(){at.current.scrollTop=at.current.scrollHeight,ot("rotations",JSON.stringify(_))}),[_,ot]),Object(c.useEffect)((function(){ot("investmentCnt",""+q)}),[q,ot]),Object(c.useEffect)((function(){ot("border",ae)}),[ae,ot]),Object(c.useEffect)((function(){ot("ballNumberConfirm",Oe)}),[Oe,ot]),Object(c.useEffect)((function(){ot("remarks",Ce)}),[Ce,ot]),Object(c.useEffect)((function(){var e=S.get(ie);Me(String(e)),ot("storeName",ie)}),[ie,ot]);var ut=Object(c.useMemo)((function(){return 0===z?0:Number((1e3/Number(ae)-1e3/z).toFixed(1))}),[ae,z]);function bt(){return _.length>0&&_[0].type===C}function jt(){s("")}function lt(){return(ut*$).toFixed(0)}function mt(e){try{if(!y.hasOwnProperty(e))throw new Error(M);return y[e]}catch(t){return alert(t),125}}function dt(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(E([]),D(0),Q(0),ee(0),fe(""),le(""),ke(""))}function Ot(){return(Ot=Object(b.a)(u.a.mark((function e(){var t,n,a,r,c,o,i,b,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==xe&&""!==Se){e.next=3;break}return alert("\u7389\u6570\u307e\u305f\u306f\u56de\u8ee2\u6570\u3092\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046"),e.abrupt("return");case 3:if(!((t=Number(Oe)-Number(xe))<0)){e.next=7;break}return alert("\u81ea\u52d5\u56de\u8ee2\u306e\u7389\u6570\u306f\u3001\u78ba\u8a8d\u7528\u7389\u6570\u3088\u308a\u5927\u304d\u3044\u5024\u3092\u6307\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002"),e.abrupt("return");case 7:if(n=function(){return T(1).then((function(){return ct.current.click()}))},a=t/mt(ie),r=Number(Se)-F(_).rotationNumber,Number.isInteger(a)){e.next=17;break}if(window.confirm("\u6295\u8cc7\u56de\u6570\u304c\u6574\u6570\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u534a\u7aef\u3092\u9664\u3044\u3066\u8a08\u7b97\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")){e.next=13;break}return e.abrupt("return");case 13:c=a-parseInt(String(a)),a-=c,o=Math.round(r*c),r-=o;case 17:if(i=Math.floor(r/a),window.confirm("\u81ea\u52d5\u56de\u8ee2\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f\n\u6295\u8cc7\u56de\u6570\uff1a".concat(a,"\u56de\n\u5e73\u5747\u56de\u8ee2\u6570\uff1a").concat(i))){e.next=20;break}return e.abrupt("return");case 20:b=0;case 21:if(!(b<a)){e.next=29;break}return j=Number(Se)-i*(a-1-b),s(String(j)),e.next=26,n();case 26:b++,e.next=21;break;case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){try{if(!1===bt())throw k;Number(Oe)<mt(ie)?Pe(!1):Pe(!0);var e=q+1,t=String(i).length<3&&String(F(_).rotationNumber).length>1?function(){var e=String(F(_).rotationNumber),t=function(){var t=Number(e.slice(0,-2));return function(e,t){return e>t}(Number(e.slice(-2)),Number(i))?t+1:t}(),n=("00"+i).slice(-2);return Number(t+n)}():Number(i),n=Number(t)-F(_).rotationNumber,a=Number(Ee)/4,r=Number((2*n*a).toFixed(1)),c=$+n,o=Number((c*(1e3/(500*e))*a).toFixed(1));jt(),Q(e),ee(c),D(o),E(_.concat({type:R,rotationNumber:Number(t),rotationRateMostRecent:r,rotationRate:o})),fe(String(Number(Oe)-mt(ie)))}catch(s){alert(s)}}return Object(A.jsx)("div",{className:"App",children:Object(A.jsxs)(l.a,{className:"pt-3 ".concat(Be?"":G.a.bg_warning),children:[Object(A.jsxs)(m.a,{children:[Object(A.jsxs)(d.a,{children:[Object(A.jsx)("p",{className:"mb-0",children:Object(A.jsxs)("span",{children:[n,"\u30da\u30fc\u30b8\u76ee"]})}),Object(A.jsxs)("p",{className:"mb-0",children:[Object(A.jsx)("span",{children:ut})," * ",Object(A.jsx)("span",{children:$})," = ",Object(A.jsx)("span",{"data-testid":"work-amount",children:lt()})]}),Object(A.jsxs)(m.a,{className:"justify-content-between",children:[Object(A.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var e=_.length;if(0!==e){Pe(!0),F(_).type===R&&Q(q-1);var t=_.filter((function(t,n){return n!==e-1}));if(1===t.length||0===t.length?D(0):D(F(t).rotationRate),F(_).type===R&&t.length>0){var n=F(_).rotationNumber-F(t).rotationNumber;ee($-n)}E(t),fe(String(Number(Oe)+mt(ie)))}}()},children:"1\u884c\u524a\u9664"}),Object(A.jsx)(O.a,{className:"mb-1 ".concat(0===n?"d-none":""),variant:"primary",onClick:function(){a(n-1)},children:"\u524d"}),Object(A.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){a(n+1)},children:"\u6b21"})]}),Object(A.jsx)(f.a,{className:"mb-1",id:"rotationNumberInput",value:i,onChange:function(e){s(e.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(A.jsxs)(m.a,{className:"mb-2",children:[Object(A.jsx)(U,{setRotationNumberInputed:s,rotationNumberInputed:i}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4 ".concat(G.a.font_button),onClick:function(){return jt()},children:"C"}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4"}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4 py-3",ref:ct,onClick:function(){return ft()},children:"\u56de\u8ee2"}),Object(A.jsx)(H,{rotationNumberInputed:i,rotationRate:z,rotations:_,clearRotationNumberInputed:jt,setRotations:E,setIsCorrectBallNumberConfirm:Pe}),Object(A.jsx)(L,{rotationNumberInputed:i,rotations:_,selectStoreRef:rt,isResetStarted:bt,clearRotationNumberInputed:jt,setRotations:E})]})]}),Object(A.jsxs)(d.a,{children:[Object(A.jsx)(p.a,{className:"rotationList",ref:at,children:Object(A.jsx)(V,{rotations:_})}),Object(A.jsxs)("div",{className:"mt-2",children:[Object(A.jsxs)("p",{className:"mb-0",children:["rb: ",He]}),Object(A.jsxs)(h.a,{children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"r"})}),Object(A.jsx)(f.a,{as:"textarea",rows:2,placeholder:"\u30e9\u30a6\u30f3\u30c9",inputMode:"numeric",value:Ue,onChange:function(e){var t=e.target.value;ot("roundRecord",t),Ve(t)}})]}),Object(A.jsx)("span",{className:"mb-0",children:"\u7372\u5f97\u7389\u6570\u2193"}),Object(A.jsxs)(h.a,{children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"t"})}),Object(A.jsx)(f.a,{as:"textarea",rows:2,placeholder:"\u7372\u5f97\u7389\u6570",inputMode:"numeric",value:qe,onChange:function(e){var t=e.target.value;ot("wonBallNumberRecord",t),Ge(t)}})]})]})]})]}),Object(A.jsxs)(m.a,{children:[Object(A.jsxs)(d.a,{children:[Object(A.jsx)(m.a,{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(A.jsx)(f.a,{value:Oe,"data-testid":"ball-number-confirm",onChange:function(e){var t=e.target.value;fe(t)},type:"number"})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(f.a,{value:xe,"data-testid":"ball-number-auto-rotation",onChange:function(e){var t=e.target.value;Ne(t)},type:"number",placeholder:"\u7389\u6570"}),Object(A.jsx)(f.a,{value:Se,"data-testid":"ball-number-auto-rotation",onChange:function(e){var t=e.target.value;ye(t)},type:"number",placeholder:"\u56de\u8ee2\u6570"}),Object(A.jsx)(h.a.Append,{children:Object(A.jsx)(O.a,{variant:"outline-primary",onClick:function(){return function(){return Ot.apply(this,arguments)}()},children:"\u81ea\u56de"})})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(A.jsx)(f.a,{value:ae,"data-testid":"border",onChange:function(e){re(e.target.value)},type:"number"})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"\u5099\u8003"})}),Object(A.jsx)(x.a.Control,{as:"textarea",rows:2,value:Ce,onChange:function(e){var t=e.target.value;ke(t)}})]})}),Object(A.jsx)(m.a,{children:Object(A.jsx)(O.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var e=new Date,t=Object(N.a)(e,"yyyy/MM/dd"),n=localStorage.getItem("startTime"),a=Object(N.a)(e,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(t)),r.append("timeStart","".concat(n)),r.append("timeEnd","".concat(a)),r.append("border","".concat(ae)),r.append("rotationRate","".concat(z)),r.append("rotationUnitPrice","".concat(ut)),r.append("rotationNumberTotal","".concat($)),r.append("roundBase","".concat(He)),r.append("workAmount","".concat(lt())),r.append("machineName","".concat(je)),r.append("storeName","".concat(ie)),r.append("remarks","".concat(Ce)),Y.post("https://script.google.com/macros/s/AKfycbw-ALS3LfFEJasC1FZlKlGUYzm7_cebhvdsASVzf6ZjDM2dttct9hwsHg/exec",r).then((function(e){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),dt()})).catch((function(e){alert(e)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(A.jsx)(m.a,{children:Object(A.jsx)(O.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return dt()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(A.jsxs)(d.a,{children:[Object(A.jsx)("div",{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"\u5e97\u540d"})}),Object(A.jsx)(x.a.Control,{as:"select",value:ie,onChange:function(e){se(e.target.value)},ref:rt,children:Object(A.jsx)(Z,{storeNames:g})})]})}),Object(A.jsx)("div",{children:Object(A.jsxs)(h.a,{size:"sm",children:[Object(A.jsx)(h.a.Prepend,{children:Object(A.jsx)(h.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(A.jsx)(f.a,{value:je,onChange:function(e){var t=e.target.value;le(t),ot("machineName",t)}})]})}),Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"mr-2",children:["\u4ea4\u63db\u7387:",Ee]})})]})]})]})})};i.a.render(Object(A.jsx)(Q,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0057eada.chunk.js.map