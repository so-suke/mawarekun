(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{40:function(t,e,n){t.exports={bg_warning:"App_bg_warning__2uihL"}},49:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var a,r,c=n(0),o=n(33),i=n.n(o),s=(n(49),n(21)),u=n.n(s),b=n(34),j=n(7),l=(n(51),n(76)),m=n(77),d=n(41),O=n(82),f=n(42),p=n(78),h=n(81),x=n(80),N=n(79),v=n(15),g=["DoruNakano","LiNakano","NtNakano"],y=new Map([[g[0],4.38],[g[1],4],[g[2],4]]),S=(a={},Object(v.a)(a,g[0],114),Object(v.a)(a,g[1],125),Object(v.a)(a,g[2],125),a),R="normal",C="continueStart",k="resetStart",w="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",I="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",E="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",F="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",T="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",M=function(t){return t[t.length-1]},P=function(t){return new Promise((function(e){return setTimeout(e,t)}))},_=n(35),z=n(36),D=Object(z.a)(O.a)(r||(r=Object(_.a)(["\n  font-size: 0.4rem;\n"]))),A=n(1);function B(t){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(D,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===t.rotationNumberInputed)throw E;t.setIsCorrectBallNumberConfirm(!1),t.setRotations(t.rotations.concat({type:C,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:t.rotationRate})),t.clearRotationNumberInputed()}catch(e){alert(e)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function H(t){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(D,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(t.isResetStarted())throw I;if(""===t.rotationNumberInputed)throw E;if(""===t.selectStoreRef.current.value)throw F;t.setRotations(t.rotations.concat({type:k,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),t.clearRotationNumberInputed(),localStorage.setItem("startTime",Object(N.a)(new Date,"HH:mm"))}catch(e){alert(e)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}function J(t){return Object(A.jsx)(A.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(e){return Object(A.jsx)(O.a,{variant:"primary",className:"col-4",onClick:function(){return t.setRotationNumberInputed(t.rotationNumberInputed+e)},children:e},e)}))})}function L(t){return Object(A.jsx)(A.Fragment,{children:t.rotations.map((function(t,e){var n="";return t.type===k?n="".concat(t.rotationNumber," --start--"):t.type===C?n="".concat(t.rotationNumber," > start"):t.type===R&&(n="".concat(t.rotationNumber," ").concat(t.rotationRateMostRecent," ").concat(t.rotationRate)),Object(A.jsx)(x.a.Item,{children:n},e)}))})}var V=n(43);function Q(t){var e=[Object(A.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],n=t.storeNames.map((function(t){return Object(A.jsx)("option",{value:t,children:t},t)})),a=[e].concat(Object(V.a)(n));return Object(A.jsx)(A.Fragment,{children:a})}var U=n(40),W=n.n(U),Y=n(54).default;var G=function(){var t=Object(c.useState)(0),e=Object(j.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],s=o[1],v=Object(c.useState)([]),I=Object(j.a)(v,2),E=I[0],F=I[1],_=Object(c.useState)(0),z=Object(j.a)(_,2),D=z[0],V=z[1],U=Object(c.useState)(0),G=Object(j.a)(U,2),K=G[0],q=G[1],X=Object(c.useState)(0),Z=Object(j.a)(X,2),$=Z[0],tt=Z[1],et=Object(c.useState)(""),nt=Object(j.a)(et,2),at=nt[0],rt=nt[1],ct=Object(c.useState)(""),ot=Object(j.a)(ct,2),it=ot[0],st=ot[1],ut=Object(c.useState)(""),bt=Object(j.a)(ut,2),jt=bt[0],lt=bt[1],mt=Object(c.useState)(""),dt=Object(j.a)(mt,2),Ot=dt[0],ft=dt[1],pt=Object(c.useState)(""),ht=Object(j.a)(pt,2),xt=ht[0],Nt=ht[1],vt=Object(c.useState)(""),gt=Object(j.a)(vt,2),yt=gt[0],St=gt[1],Rt=Object(c.useState)(""),Ct=Object(j.a)(Rt,2),kt=Ct[0],wt=Ct[1],It=Object(c.useState)(""),Et=Object(j.a)(It,2),Ft=Et[0],Tt=Et[1],Mt=Object(c.useState)(!0),Pt=Object(j.a)(Mt,2),_t=Pt[0],zt=Pt[1],Dt=Object(c.useRef)(null),At=Object(c.useRef)(document.createElement("select")),Bt=Object(c.useRef)(document.createElement("button")),Ht=Object(c.useCallback)((function(t,e){localStorage.setItem("".concat(t,"_").concat(n),e)}),[n]),Jt=Object(c.useCallback)((function(t,e){return localStorage.getItem("".concat(t,"_").concat(n))||e}),[n]);Object(c.useEffect)((function(){var t=Jt("investmentCnt","0"),e=JSON.parse(Jt("rotations","[]")),n=Jt("storeName",""),a=Jt("machineName",""),r=Jt("ballNumberConfirm",""),c=Jt("border","18.0"),o=Jt("remarks","");q(Number(t)),st(n),F(e),lt(a),ft(r),rt(c),wt(o),V(function(t){return 0===t.length?0:M(t).rotationRate}(e)),tt(function(t){var e=0;return t.forEach((function(n,a){n.type!==k&&n.type!==C&&(e+=n.rotationNumber-t[a-1].rotationNumber)})),e}(e))}),[Jt]),Object(c.useEffect)((function(){Dt.current.scrollTop=Dt.current.scrollHeight,Ht("rotations",JSON.stringify(E))}),[E,Ht]),Object(c.useEffect)((function(){Ht("investmentCnt",""+K)}),[K,Ht]),Object(c.useEffect)((function(){Ht("border",at)}),[at,Ht]),Object(c.useEffect)((function(){Ht("ballNumberConfirm",Ot)}),[Ot,Ht]),Object(c.useEffect)((function(){Ht("remarks",kt)}),[kt,Ht]),Object(c.useEffect)((function(){var t=y.get(it);Tt(String(t)),Ht("storeName",it)}),[it,Ht]);var Lt=Object(c.useMemo)((function(){return 0===D?0:Number((1e3/Number(at)-1e3/D).toFixed(1))}),[at,D]);function Vt(){return E.length>0&&E[0].type===k}function Qt(){s("")}function Ut(){return(Lt*$).toFixed(0)}function Wt(t){try{if(!S.hasOwnProperty(t))throw new Error(T);return S[t]}catch(e){return alert(e),125}}function Yt(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(F([]),V(0),q(0),tt(0),ft(""),lt(""),wt(""))}function Gt(){return(Gt=Object(b.a)(u.a.mark((function t(){var e,n,a,r,c,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=function(){return P(1).then((function(){return Bt.current.click()}))},n=Number(Ot)-Number(xt),a=n/Wt(it),r=Number(yt)-M(E).rotationNumber,c=Math.floor(r/a),Number.isInteger(a)){t.next=8;break}return alert("\u6295\u8cc7\u56de\u6570\u304c\u6574\u6570\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002"),t.abrupt("return");case 8:o=0;case 9:if(!(o<a)){t.next=17;break}return i=Number(yt)-c*(a-1-o),s(String(i)),t.next=14,e();case 14:o++,t.next=9;break;case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(){try{if(!1===Vt())throw w;Number(Ot)<Wt(it)?zt(!1):zt(!0);var t=K+1,e=String(i).length<3&&String(M(E).rotationNumber).length>1?function(){var t=String(M(E).rotationNumber),e=function(){var e=Number(t.slice(0,-2));return function(t,e){return t>e}(Number(t.slice(-2)),Number(i))?e+1:e}(),n=("00"+i).slice(-2);return Number(e+n)}():Number(i),n=Number(e)-M(E).rotationNumber,a=Number(Ft)/4,r=Number((2*n*a).toFixed(1)),c=$+n,o=Number((c*(1e3/(500*t))*a).toFixed(1));Qt(),q(t),tt(c),V(o),F(E.concat({type:R,rotationNumber:Number(e),rotationRateMostRecent:r,rotationRate:o})),ft(String(Number(Ot)-Wt(it)))}catch(s){alert(s)}}return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(l.a,{className:"pt-3 ".concat(_t?"":W.a.bg_warning),children:Object(A.jsxs)(m.a,{children:[Object(A.jsxs)(d.a,{children:[Object(A.jsxs)("p",{className:"mb-0",children:[Object(A.jsx)("span",{children:Lt})," * ",Object(A.jsx)("span",{children:$})," = ",Object(A.jsx)("span",{"data-testid":"work-amount",children:Ut()})]}),Object(A.jsxs)(m.a,{className:"justify-content-between",children:[Object(A.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var t=E.length;if(0!==t){zt(!0),M(E).type===R&&q(K-1);var e=E.filter((function(e,n){return n!==t-1}));if(1===e.length||0===e.length?V(0):V(M(e).rotationRate),M(E).type===R&&e.length>0){var n=M(E).rotationNumber-M(e).rotationNumber;tt($-n)}F(e),ft(String(Number(Ot)+Wt(it)))}}()},children:"1\u884c\u524a\u9664"}),Object(A.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){a(n-1)},children:"\u524d"}),Object(A.jsx)(O.a,{className:"mb-1",variant:"primary",onClick:function(){a(n+1)},children:"\u6b21"})]}),Object(A.jsx)(f.a,{className:"mb-1",id:"rotationNumberInput",value:i,onChange:function(t){s(t.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(A.jsxs)(m.a,{className:"mb-2",children:[Object(A.jsx)(J,{setRotationNumberInputed:s,rotationNumberInputed:i}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4",onClick:function(){return Qt()},children:"C"}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4"}),Object(A.jsx)(O.a,{variant:"primary",className:"col-4 py-3",ref:Bt,onClick:function(){return Kt()},children:"\u56de\u8ee2"}),Object(A.jsx)(B,{rotationNumberInputed:i,rotationRate:D,rotations:E,clearRotationNumberInputed:Qt,setRotations:F,setIsCorrectBallNumberConfirm:zt}),Object(A.jsx)(H,{rotationNumberInputed:i,rotations:E,selectStoreRef:At,isResetStarted:Vt,clearRotationNumberInputed:Qt,setRotations:F})]}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(p.a.Prepend,{children:Object(A.jsx)(p.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(A.jsx)(f.a,{value:Ot,"data-testid":"ball-number-confirm",onChange:function(t){var e=t.target.value;ft(e)},type:"number"})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(f.a,{value:xt,"data-testid":"ball-number-auto-rotation",onChange:function(t){var e=t.target.value;Nt(e)},type:"number",placeholder:"\u7389\u6570"}),Object(A.jsx)(f.a,{value:yt,"data-testid":"ball-number-auto-rotation",onChange:function(t){var e=t.target.value;St(e)},type:"number",placeholder:"\u56de\u8ee2\u6570"}),Object(A.jsx)(p.a.Append,{children:Object(A.jsx)(O.a,{variant:"outline-primary",onClick:function(){return function(){return Gt.apply(this,arguments)}()},children:"\u81ea\u56de"})})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(p.a.Prepend,{children:Object(A.jsx)(p.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(A.jsx)(f.a,{value:at,"data-testid":"border",onChange:function(t){rt(t.target.value)},type:"number"})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(p.a.Prepend,{children:Object(A.jsx)(p.a.Text,{children:"\u5e97\u540d"})}),Object(A.jsx)(h.a.Control,{as:"select",value:it,onChange:function(t){st(t.target.value)},ref:At,children:Object(A.jsx)(Q,{storeNames:g})})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(p.a.Prepend,{children:Object(A.jsx)(p.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(A.jsx)(f.a,{value:jt,onChange:function(t){var e=t.target.value;lt(e),Ht("machineName",e)}})]})}),Object(A.jsx)(m.a,{children:Object(A.jsxs)(p.a,{size:"sm",children:[Object(A.jsx)(p.a.Prepend,{children:Object(A.jsx)(p.a.Text,{children:"\u5099\u8003"})}),Object(A.jsx)(h.a.Control,{as:"textarea",rows:2,value:kt,onChange:function(t){var e=t.target.value;wt(e)}})]})}),Object(A.jsxs)(m.a,{children:[Object(A.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(A.jsx)("div",{children:Ft})]}),Object(A.jsx)(m.a,{children:Object(A.jsx)(O.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var t=new Date,e=Object(N.a)(t,"yyyy/MM/dd"),n=localStorage.getItem("startTime"),a=Object(N.a)(t,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(e)),r.append("timeStart","".concat(n)),r.append("timeEnd","".concat(a)),r.append("border","".concat(at)),r.append("rotationRate","".concat(D)),r.append("rotationUnitPrice","".concat(Lt)),r.append("rotationNumberTotal","".concat($)),r.append("workAmount","".concat(Ut())),r.append("machineName","".concat(jt)),r.append("storeName","".concat(it)),r.append("remarks","".concat(kt)),Y.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",r).then((function(t){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),Yt()})).catch((function(t){alert(t)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(A.jsx)(m.a,{children:Object(A.jsx)(O.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return Yt()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(A.jsx)(d.a,{children:Object(A.jsx)(x.a,{className:"rotationList",ref:Dt,children:Object(A.jsx)(L,{rotations:E})})})]})})})};i.a.render(Object(A.jsx)(G,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.a60fa9d1.chunk.js.map