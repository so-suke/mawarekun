(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{38:function(t,e,n){t.exports={bg_warning:"App_bg_warning__2uihL"}},47:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a,r,c=n(0),o=n(32),i=n.n(o),s=(n(47),n(7)),u=(n(48),n(73)),b=n(74),j=n(39),l=n(79),m=n(40),d=n(75),O=n(78),f=n(77),h=n(76),p=n(15),N=["DoruNakano","LiNakano","NtNakano"],x=new Map([[N[0],4.38],[N[1],4],[N[2],4]]),g=(a={},Object(p.a)(a,N[0],114),Object(p.a)(a,N[1],125),Object(p.a)(a,N[2],125),a),v="normal",y="continueStart",R="resetStart",S="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",C="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",w="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",k="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",I="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",E=function(t){return t[t.length-1]},F=n(33),T=n(34),M=Object(T.a)(l.a)(r||(r=Object(F.a)(["\n  font-size: 0.4rem;\n"]))),P=n(1);function _(t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(M,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===t.rotationNumberInputed)throw w;t.setIsCorrectBallNumberConfirm(!1),t.setRotations(t.rotations.concat({type:y,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:t.rotationRate})),t.clearRotationNumberInputed()}catch(e){alert(e)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function D(t){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(M,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(t.isResetStarted())throw C;if(""===t.rotationNumberInputed)throw w;if(""===t.selectStoreRef.current.value)throw k;t.setRotations(t.rotations.concat({type:R,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),t.clearRotationNumberInputed(),localStorage.setItem("startTime",Object(h.a)(new Date,"HH:mm"))}catch(e){alert(e)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}function z(t){return Object(P.jsx)(P.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(e){return Object(P.jsx)(l.a,{variant:"primary",className:"col-4",onClick:function(){return t.setRotationNumberInputed(t.rotationNumberInputed+e)},children:e},e)}))})}function B(t){return Object(P.jsx)(P.Fragment,{children:t.rotations.map((function(t,e){var n="";return t.type===R?n="".concat(t.rotationNumber," --start--"):t.type===y?n="".concat(t.rotationNumber," > start"):t.type===v&&(n="".concat(t.rotationNumber," ").concat(t.rotationRateMostRecent," ").concat(t.rotationRate)),Object(P.jsx)(f.a.Item,{children:n},e)}))})}var A=n(41);function H(t){var e=[Object(P.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],n=t.storeNames.map((function(t){return Object(P.jsx)("option",{value:t,children:t},t)})),a=[e].concat(Object(A.a)(n));return Object(P.jsx)(P.Fragment,{children:a})}var J=n(38),L=n.n(J),V=n(51).default;var Q=function(){var t=Object(c.useState)(0),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],p=o[1],C=Object(c.useState)([]),w=Object(s.a)(C,2),k=w[0],F=w[1],T=Object(c.useState)(0),M=Object(s.a)(T,2),A=M[0],J=M[1],Q=Object(c.useState)(0),U=Object(s.a)(Q,2),W=U[0],Y=U[1],G=Object(c.useState)(0),K=Object(s.a)(G,2),q=K[0],X=K[1],Z=Object(c.useState)(""),$=Object(s.a)(Z,2),tt=$[0],et=$[1],nt=Object(c.useState)(""),at=Object(s.a)(nt,2),rt=at[0],ct=at[1],ot=Object(c.useState)(""),it=Object(s.a)(ot,2),st=it[0],ut=it[1],bt=Object(c.useState)(""),jt=Object(s.a)(bt,2),lt=jt[0],mt=jt[1],dt=Object(c.useState)(""),Ot=Object(s.a)(dt,2),ft=Ot[0],ht=Ot[1],pt=Object(c.useState)(""),Nt=Object(s.a)(pt,2),xt=Nt[0],gt=Nt[1],vt=Object(c.useState)(!0),yt=Object(s.a)(vt,2),Rt=yt[0],St=yt[1],Ct=Object(c.useRef)(null),wt=Object(c.useRef)(document.createElement("select")),kt=Object(c.useCallback)((function(t,e){localStorage.setItem("".concat(t,"_").concat(n),e)}),[n]),It=Object(c.useCallback)((function(t,e){return localStorage.getItem("".concat(t,"_").concat(n))||e}),[n]);Object(c.useEffect)((function(){var t=It("investmentCnt","0"),e=JSON.parse(It("rotations","[]")),n=It("storeName",""),a=It("machineName",""),r=It("ballNumberConfirm",""),c=It("border","18.0"),o=It("remarks","");Y(Number(t)),ct(n),F(e),ut(a),mt(r),et(c),ht(o),J(function(t){return 0===t.length?0:E(t).rotationRate}(e)),X(function(t){var e=0;return t.forEach((function(n,a){n.type!==R&&n.type!==y&&(e+=n.rotationNumber-t[a-1].rotationNumber)})),e}(e))}),[It]),Object(c.useEffect)((function(){Ct.current.scrollTop=Ct.current.scrollHeight,kt("rotations",JSON.stringify(k))}),[k,kt]),Object(c.useEffect)((function(){kt("investmentCnt",""+W)}),[W,kt]),Object(c.useEffect)((function(){kt("border",tt)}),[tt,kt]),Object(c.useEffect)((function(){kt("ballNumberConfirm",lt)}),[lt,kt]),Object(c.useEffect)((function(){kt("remarks",ft)}),[ft,kt]),Object(c.useEffect)((function(){var t=x.get(rt);gt(String(t)),kt("storeName",rt)}),[rt,kt]);var Et=Object(c.useMemo)((function(){return 0===A?0:Number((1e3/Number(tt)-1e3/A).toFixed(1))}),[tt,A]);function Ft(){return k.length>0&&k[0].type===R}function Tt(){p("")}function Mt(){return(Et*q).toFixed(0)}function Pt(t){try{if(!g.hasOwnProperty(t))throw new Error(I);return g[t]}catch(e){return alert(e),125}}function _t(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(F([]),J(0),Y(0),X(0),mt(""),ut(""),ht(""))}function Dt(){try{if(!1===Ft())throw S;Number(lt)<Pt(rt)?St(!1):St(!0);var t=W+1,e=String(i).length<3&&String(E(k).rotationNumber).length>1?function(){var t=String(E(k).rotationNumber),e=function(){var e=Number(t.slice(0,-2));return function(t,e){return t>e}(Number(t.slice(-2)),Number(i))?e+1:e}(),n=("00"+i).slice(-2);return Number(e+n)}():Number(i),n=Number(e)-E(k).rotationNumber,a=Number(xt)/4,r=Number((2*n*a).toFixed(1)),c=q+n,o=Number((c*(1e3/(500*t))*a).toFixed(1));Tt(),Y(t),X(c),J(o),F(k.concat({type:v,rotationNumber:Number(e),rotationRateMostRecent:r,rotationRate:o})),mt(String(Number(lt)-Pt(rt)))}catch(s){alert(s)}}return Object(P.jsx)("div",{className:"App",children:Object(P.jsx)(u.a,{className:"pt-3 ".concat(Rt?"":L.a.bg_warning),children:Object(P.jsxs)(b.a,{children:[Object(P.jsxs)(j.a,{children:[Object(P.jsxs)("p",{className:"mb-0",children:[Object(P.jsx)("span",{children:Et})," * ",Object(P.jsx)("span",{children:q})," = ",Object(P.jsx)("span",{"data-testid":"work-amount",children:Mt()})]}),Object(P.jsxs)(b.a,{className:"justify-content-between",children:[Object(P.jsx)(l.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var t=k.length;if(0!==t){St(!0),E(k).type===v&&Y(W-1);var e=k.filter((function(e,n){return n!==t-1}));if(1===e.length||0===e.length?J(0):J(E(e).rotationRate),E(k).type===v&&e.length>0){var n=E(k).rotationNumber-E(e).rotationNumber;X(q-n)}F(e),mt(String(Number(lt)+Pt(rt)))}}()},children:"1\u884c\u524a\u9664"}),Object(P.jsx)(l.a,{className:"mb-1",variant:"primary",onClick:function(){a(n-1)},children:"\u524d"}),Object(P.jsx)(l.a,{className:"mb-1",variant:"primary",onClick:function(){a(n+1)},children:"\u6b21"})]}),Object(P.jsx)(m.a,{className:"mb-1",id:"rotationNumberInput",value:i,onChange:function(t){p(t.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(P.jsxs)(b.a,{className:"mb-2",children:[Object(P.jsx)(z,{setRotationNumberInputed:p,rotationNumberInputed:i}),Object(P.jsx)(l.a,{variant:"primary",className:"col-4",onClick:function(){return Tt()},children:"C"}),Object(P.jsx)(l.a,{variant:"primary",className:"col-4"}),Object(P.jsx)(l.a,{variant:"primary",className:"col-4 py-3",onClick:function(){return Dt()},children:"\u56de\u8ee2"}),Object(P.jsx)(_,{rotationNumberInputed:i,rotationRate:A,rotations:k,clearRotationNumberInputed:Tt,setRotations:F,setIsCorrectBallNumberConfirm:St}),Object(P.jsx)(D,{rotationNumberInputed:i,rotations:k,selectStoreRef:wt,isResetStarted:Ft,clearRotationNumberInputed:Tt,setRotations:F})]}),Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(P.jsx)(m.a,{value:lt,"data-testid":"ball-number-confirm",onChange:function(t){var e=t.target.value;mt(e)},type:"number"})]})}),Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(P.jsx)(m.a,{value:tt,"data-testid":"border",onChange:function(t){et(t.target.value)},type:"number"})]})}),Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u5e97\u540d"})}),Object(P.jsx)(O.a.Control,{as:"select",value:rt,onChange:function(t){ct(t.target.value)},ref:wt,children:Object(P.jsx)(H,{storeNames:N})})]})}),Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(P.jsx)(m.a,{value:st,onChange:function(t){var e=t.target.value;ut(e),kt("machineName",e)}})]})}),Object(P.jsx)(b.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u5099\u8003"})}),Object(P.jsx)(O.a.Control,{as:"textarea",rows:2,value:ft,onChange:function(t){var e=t.target.value;ht(e)}})]})}),Object(P.jsxs)(b.a,{children:[Object(P.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(P.jsx)("div",{children:xt})]}),Object(P.jsx)(b.a,{children:Object(P.jsx)(l.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var t=new Date,e=Object(h.a)(t,"yyyy/MM/dd"),n=localStorage.getItem("startTime"),a=Object(h.a)(t,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(e)),r.append("timeStart","".concat(n)),r.append("timeEnd","".concat(a)),r.append("border","".concat(tt)),r.append("rotationRate","".concat(A)),r.append("rotationUnitPrice","".concat(Et)),r.append("rotationNumberTotal","".concat(q)),r.append("workAmount","".concat(Mt())),r.append("machineName","".concat(st)),r.append("storeName","".concat(rt)),r.append("remarks","".concat(ft)),V.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",r).then((function(t){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),_t()})).catch((function(t){alert(t)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(P.jsx)(b.a,{children:Object(P.jsx)(l.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return _t()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(P.jsx)(j.a,{children:Object(P.jsx)(f.a,{className:"rotationList",ref:Ct,children:Object(P.jsx)(B,{rotations:k})})})]})})})};i.a.render(Object(P.jsx)(Q,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.0bf2653c.chunk.js.map