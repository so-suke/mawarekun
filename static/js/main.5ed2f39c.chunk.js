(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{49:function(t,e,a){},72:function(t,e,a){"use strict";a.r(e);var n=a(2),c=a(0),r=a(30),o=a.n(r),i=(a(49),a(42)),s=a(8),l=a(31),u=a(32),j=(a(50),a(81)),b=a(80),m=a(75),O=a(76),d=a(39),h=a(40),f=a(77),p=a(79),N=a(78);function x(){var t=Object(l.a)(["\n  font-size: 0.4rem;\n"]);return x=function(){return t},t}var g=a(51).default,v=Object(u.a)(j.a)(x());var y=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),a=e[0],r=e[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),u=l[0],x=l[1],y=Object(c.useState)(0),S=Object(s.a)(y,2),R=S[0],C=S[1],k=Object(c.useState)(0),I=Object(s.a)(k,2),w=I[0],E=I[1],M=Object(c.useState)(0),D=Object(s.a)(M,2),T=D[0],H=D[1],F=Object(c.useState)("18.0"),J=Object(s.a)(F,2),P=J[0],z=J[1],A=Object(c.useState)([]),B=Object(s.a)(A,2),L=B[0],V=B[1],Q=Object(c.useState)(""),U=Object(s.a)(Q,2),W=U[0],Y=U[1],G=Object(c.useState)(""),K=Object(s.a)(G,2),q=K[0],X=K[1],Z=Object(c.useState)(new Map),$=Object(s.a)(Z,2),_=$[0],tt=$[1],et=Object(c.useState)(""),at=Object(s.a)(et,2),nt=at[0],ct=at[1],rt=Object(c.useRef)(null),ot=Object(c.useRef)(document.createElement("select")),it="normal",st="continueStart",lt="resetStart";function ut(){r("")}function jt(){return(bt*T).toFixed(0)}Object(c.useEffect)((function(){!function(){var t=["DoruNakano","LiNakano","NtNakano"];V(t),tt(_.set(t[0],4.38)),tt(_.set(t[1],4)),tt(_.set(t[2],4))}();var t=localStorage.getItem("storeName"),e=localStorage.getItem("machineName"),a=localStorage.getItem("investmentCnt"),n=localStorage.getItem("rotations"),c=localStorage.getItem("border");if(null!==t&&null!==e&&null!==a&&null!==n&&null!==c){Y(t),X(e);var r=JSON.parse(n),o=function(t){return 0===t.length?0:t[t.length-1].rotationRate}(r),i=function(t){var e=0;return t.forEach((function(a,n){a.type!==lt&&a.type!==st&&(e+=a.rotationNumber-t[n-1].rotationNumber)})),e}(r);C(o),H(i),E(Number(a)),x(r),z(c)}}),[]),Object(c.useEffect)((function(){rt.current.scrollTop=rt.current.scrollHeight,localStorage.setItem("rotations",JSON.stringify(u))}),[u]),Object(c.useEffect)((function(){localStorage.setItem("investmentCnt",""+w)}),[w]),Object(c.useEffect)((function(){localStorage.setItem("border",P)}),[P]),Object(c.useEffect)((function(){var t=_.get(W);ct(t),localStorage.setItem("storeName",W)}),[W]);var bt=Object(c.useMemo)((function(){return 0===R?0:Number((1e3/Number(P)-1e3/R).toFixed(1))}),[P,R]);function mt(){if(!1!==(0!==u.length&&u[0].type===lt)){var t=w+1;E(t);var e=Number(nt)/4,n=u[u.length-1].rotationNumber,c=Number(a);if(String(c).length<3&&String(u[u.length-1].rotationNumber).length>1){var r=("000"+u[u.length-1].rotationNumber).slice(-3);c+=100*(c>Number(String(u[u.length-1].rotationNumber).slice(1,3))?Number(r[0]):Number(r[0])+1)}var o=Number(c)-n,i=Number((2*o*e).toFixed(1)),s=T+o;H(s);var l=Number((s*(1e3/(500*t))*e).toFixed(1));C(l),x(u.concat({type:it,rotationNumber:Number(c),rotationRateMostRecent:i,rotationRate:l})),ut()}else alert("\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046")}function Ot(){navigator.clipboard.writeText(function(){var t=new Date,e=Object(N.a)(t,"yyyy/MM/dd"),a=localStorage.getItem("startTime"),n=Object(N.a)(t,"HH:mm");return["".concat(e," ").concat(a,"\u301c").concat(n),"\u30dc\u30fc\u30c0\u30fc\uff1a".concat(P),"\u56de\u8ee2\u7387\uff1a".concat(R),"\u56de\u8ee2\u5358\u4fa1\uff1a".concat(bt),"\u7dcf\u56de\u8ee2\u6570\uff1a".concat(T),"".concat(jt()),"".concat(q),"".concat(W)].join("\t")}())}function dt(){u.length>0&&u[0].type===lt?alert("\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059"):""!==a?""!==ot.current.value?(x(u.concat({type:lt,rotationNumber:Number(a),rotationRateMostRecent:0,rotationRate:0})),ut(),localStorage.setItem("startTime",Object(N.a)(new Date,"HH:mm"))):alert("\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"):alert("\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046")}var ht=function(){var t=[Object(n.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],e=L.map((function(t){return Object(n.jsx)("option",{value:t,children:t},t)}));return[t].concat(Object(i.a)(e))}(),ft=["7","8","9","4","5","6","1","2","3","0"].map((function(t){return Object(n.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return r(a+t)},children:t},t)})),pt=u.map((function(t,e){var a="";return t.type===lt?a="".concat(t.rotationNumber," --start--"):t.type===st?a="".concat(t.rotationNumber," > start"):t.type===it&&(a="".concat(t.rotationNumber," ").concat(t.rotationRateMostRecent," ").concat(t.rotationRate)),Object(n.jsx)(b.a.Item,{children:a},e)}));return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(m.a,{className:"pt-3",children:Object(n.jsxs)(O.a,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("p",{className:"mb-0",children:["\u56de\u8ee2\u5358\u4fa1\uff1a",Object(n.jsx)("span",{children:bt})]}),Object(n.jsxs)("p",{className:"mb-0",children:["\u7dcf\u56de\u8ee2\u6570\uff1a",Object(n.jsx)("span",{children:T})]}),Object(n.jsxs)("p",{className:"mb-0",children:["\u4ed5\u4e8b\u91cf\uff1a",Object(n.jsx)("span",{children:jt()})]}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)(j.a,{className:"mr-1 mb-1",variant:"primary",onClick:function(){return Ot()},children:"\u30b3\u30d4\u30fc"}),Object(n.jsx)(j.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var t=u.length;if(0!==t){var e=u[u.length-1];e.type===it&&E(w-1);var a=u.filter((function(e,a){return a!==t-1}));if(1===a.length||0===a.length?C(0):C(a[a.length-1].rotationRate),e.type===it&&a.length>0){var n=u[u.length-1].rotationNumber-a[a.length-1].rotationNumber;H(T-n)}x(a)}}()},children:"1\u884c\u524a\u9664"})]}),Object(n.jsx)(h.a,{className:"mb-1",id:"rotationNumberInput",value:a,onChange:function(t){r(t.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(n.jsxs)(O.a,{className:"m-0 mb-2",children:[ft,Object(n.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return ut()},children:"C"}),Object(n.jsx)(j.a,{variant:"primary",className:"col-4"}),Object(n.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return mt()},children:"\u56de\u8ee2"}),Object(n.jsx)(v,{variant:"primary",className:"col-4",onClick:function(){""!==a?(x(u.concat({type:st,rotationNumber:Number(a),rotationRateMostRecent:0,rotationRate:R})),ut()):alert("\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046")},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"}),Object(n.jsx)(v,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return dt()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})]}),Object(n.jsx)(O.a,{children:Object(n.jsxs)(f.a,{size:"sm",children:[Object(n.jsx)(f.a.Prepend,{children:Object(n.jsx)(f.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(n.jsx)(h.a,{value:P,onChange:function(t){z(t.target.value)}})]})}),Object(n.jsx)(O.a,{children:Object(n.jsxs)(f.a,{size:"sm",children:[Object(n.jsx)(f.a.Prepend,{children:Object(n.jsx)(f.a.Text,{children:"\u5e97\u540d"})}),Object(n.jsx)(p.a.Control,{as:"select",value:W,onChange:function(t){Y(t.target.value)},ref:ot,children:ht})]})}),Object(n.jsxs)(O.a,{children:[Object(n.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(n.jsx)("div",{children:nt})]}),Object(n.jsx)(O.a,{children:Object(n.jsxs)(f.a,{size:"sm",children:[Object(n.jsx)(f.a.Prepend,{children:Object(n.jsx)(f.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(n.jsx)(h.a,{value:q,onChange:function(t){var e=t.target.value;X(e),localStorage.setItem("machineName",e)}})]})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(j.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var t=new Date,e=Object(N.a)(t,"yyyy/MM/dd"),a=localStorage.getItem("startTime"),n=Object(N.a)(t,"HH:mm"),c=new URLSearchParams;c.append("date","".concat(e," ").concat(a,"\u301c").concat(n)),c.append("border","\u30dc\u30fc\u30c0\u30fc\uff1a".concat(P)),c.append("rotationRate","\u56de\u8ee2\u7387\uff1a".concat(R)),c.append("rotationUnitPrice","\u56de\u8ee2\u5358\u4fa1\uff1a".concat(bt)),c.append("totalRotationNumber","\u7dcf\u56de\u8ee2\u6570\uff1a".concat(T)),c.append("workAmount","".concat(jt())),c.append("machineName","".concat(q)),c.append("storeName","".concat(W)),g.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",c).then((function(t){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002")})).catch((function(t){alert(t)}))}()},children:"\u30b7\u30fc\u30c8\u66f8\u8fbc"})}),Object(n.jsx)(O.a,{children:Object(n.jsx)(j.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(x([]),C(0),E(0),H(0))},children:"\u5168\u884c\u524a\u9664"})})]}),Object(n.jsx)(d.a,{children:Object(n.jsx)(b.a,{className:"rotationList",ref:rt,children:pt})})]})})})};o.a.render(Object(n.jsx)(y,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.5ed2f39c.chunk.js.map