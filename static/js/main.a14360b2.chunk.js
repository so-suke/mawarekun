(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{50:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a(31),o=a.n(r),i=(a(50),a(7)),s=a(32),l=a(36),u=(a(51),a(81)),j=a(75),b=a(76),m=a(40),O=a(41),d=a(77),h=a(79),f=a(80),x=a(78),p="normal",g="continueStart",N="resetStart",v="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",S="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",y="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",I="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002";function C(e){return Object(n.jsx)(n.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(t){return Object(n.jsx)(u.a,{variant:"primary",className:"col-4",onClick:function(){return e.setRotationNumberInputed(e.rotationNumberInputed+t)},children:t},t)}))})}function R(e){return Object(n.jsx)(n.Fragment,{children:e.rotations.map((function(e,t){var a="";return e.type===N?a="".concat(e.rotationNumber," --start--"):e.type===g?a="".concat(e.rotationNumber," > start"):e.type===p&&(a="".concat(e.rotationNumber," ").concat(e.rotationRateMostRecent," ").concat(e.rotationRate)),Object(n.jsx)(f.a.Item,{children:a},t)}))})}var k=a(43);function w(e){var t=[Object(n.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],a=e.storeNames.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)})),c=[t].concat(Object(k.a)(a));return Object(n.jsx)(n.Fragment,{children:c})}function E(){var e=Object(s.a)(["\n  font-size: 0.4rem;\n"]);return E=function(){return e},e}var F=a(52).default,T=Object(l.a)(u.a)(E());var M=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)([]),s=Object(i.a)(o,2),l=s[0],k=s[1],E=Object(c.useState)(0),M=Object(i.a)(E,2),D=M[0],P=M[1],z=Object(c.useState)(0),H=Object(i.a)(z,2),J=H[0],A=H[1],B=Object(c.useState)(0),L=Object(i.a)(B,2),V=L[0],Q=L[1],U=Object(c.useState)("18.0"),W=Object(i.a)(U,2),Y=W[0],G=W[1],K=Object(c.useState)([]),q=Object(i.a)(K,2),X=q[0],Z=q[1],$=Object(c.useState)(""),_=Object(i.a)($,2),ee=_[0],te=_[1],ae=Object(c.useState)(""),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],oe=Object(c.useState)(""),ie=Object(i.a)(oe,2),se=ie[0],le=ie[1],ue=Object(c.useState)(""),je=Object(i.a)(ue,2),be=je[0],me=je[1],Oe=Object(c.useState)(new Map),de=Object(i.a)(Oe,2),he=de[0],fe=de[1],xe=Object(c.useState)(""),pe=Object(i.a)(xe,2),ge=pe[0],Ne=pe[1],ve=Object(c.useRef)(null),Se=Object(c.useRef)(document.createElement("select"));Object(c.useEffect)((function(){!function(){var e=["DoruNakano","LiNakano","NtNakano"];Z(e),fe(he.set(e[0],4.38)),fe(he.set(e[1],4)),fe(he.set(e[2],4))}();var e=localStorage.getItem("investmentCnt")||"0",t=JSON.parse(localStorage.getItem("rotations")||"[]"),a=localStorage.getItem("storeName")||"",n=localStorage.getItem("machineName")||"",c=localStorage.getItem("ballNumberComfirm")||"",r=localStorage.getItem("border")||"",o=localStorage.getItem("remarks")||"";A(Number(e)),te(a),k(t),re(n),le(c),G(r),me(o),P(function(e){return 0===e.length?0:e[e.length-1].rotationRate}(t)),Q(function(e){var t=0;return e.forEach((function(a,n){a.type!==N&&a.type!==g&&(t+=a.rotationNumber-e[n-1].rotationNumber)})),t}(t))}),[]),Object(c.useEffect)((function(){ve.current.scrollTop=ve.current.scrollHeight,localStorage.setItem("rotations",JSON.stringify(l))}),[l]),Object(c.useEffect)((function(){localStorage.setItem("investmentCnt",""+J)}),[J]),Object(c.useEffect)((function(){localStorage.setItem("border",Y)}),[Y]),Object(c.useEffect)((function(){localStorage.setItem("ballNumberComfirm",se)}),[se]),Object(c.useEffect)((function(){localStorage.setItem("remarks",be)}),[be]),Object(c.useEffect)((function(){var e=he.get(ee);Ne(e),localStorage.setItem("storeName",ee)}),[ee]);var ye=Object(c.useMemo)((function(){return 0===D?0:Number((1e3/Number(Y)-1e3/D).toFixed(1))}),[Y,D]);function Ie(){return l.length>0&&l[0].type===N}function Ce(){r("")}function Re(){return(ye*V).toFixed(0)}function ke(e){var t=he.get(e);return Number((500/t).toFixed())}function we(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(k([]),P(0),A(0),Q(0))}function Ee(){var e=Number(a);if(String(a).length<3&&String(l[l.length-1].rotationNumber).length>1){var t=("000"+l[l.length-1].rotationNumber).slice(-3);e+=100*(e>Number(String(l[l.length-1].rotationNumber).slice(1,3))?Number(t[0]):Number(t[0])+1)}return e}return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(j.a,{className:"pt-3",children:Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(m.a,{children:[Object(n.jsxs)("p",{className:"mb-0",children:["\u56de\u8ee2\u5358\u4fa1\uff1a",Object(n.jsx)("span",{children:ye})]}),Object(n.jsxs)("p",{className:"mb-0",children:["\u7dcf\u56de\u8ee2\u6570\uff1a",Object(n.jsx)("span",{children:V})]}),Object(n.jsxs)("p",{className:"mb-0",children:["\u4ed5\u4e8b\u91cf\uff1a",Object(n.jsx)("span",{children:Re()})]}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var e=l.length;if(0!==e){var t=l[l.length-1];t.type===p&&A(J-1);var a=l.filter((function(t,a){return a!==e-1}));if(1===a.length||0===a.length?P(0):P(a[a.length-1].rotationRate),t.type===p&&a.length>0){var n=l[l.length-1].rotationNumber-a[a.length-1].rotationNumber;Q(V-n)}k(a),le(String(Number(se)+ke(ee)))}}()},children:"1\u884c\u524a\u9664"})}),Object(n.jsx)(O.a,{className:"mb-1",id:"rotationNumberInput",value:a,onChange:function(e){r(e.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(n.jsxs)(b.a,{className:"m-0 mb-2",children:[Object(n.jsx)(C,{setRotationNumberInputed:r,rotationNumberInputed:a}),Object(n.jsx)(u.a,{variant:"primary",className:"col-4",onClick:function(){return Ce()},children:"C"}),Object(n.jsx)(u.a,{variant:"primary",className:"col-4"}),Object(n.jsx)(u.a,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(!1===Ie())throw v;var e=J+1,t=Ee(),a=Number(t)-l[l.length-1].rotationNumber,n=Number(ge)/4,c=Number((2*a*n).toFixed(1)),r=V+a,o=Number((r*(1e3/(500*e))*n).toFixed(1));Ce(),A(e),Q(r),P(o),k(l.concat({type:p,rotationNumber:Number(t),rotationRateMostRecent:c,rotationRate:o})),le(String(Number(se)-ke(ee)))}catch(i){alert(i)}}()},children:"\u56de\u8ee2"}),Object(n.jsx)(T,{variant:"primary",className:"col-4",onClick:function(){return function(e,t,a,n,c){try{if(""===e)throw y;n(a.concat({type:g,rotationNumber:Number(e),rotationRateMostRecent:0,rotationRate:t})),c()}catch(r){alert(r)}}(a,D,l,k,Ce)},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"}),Object(n.jsx)(T,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(Ie())throw S;if(""===a)throw y;if(""===Se.current.value)throw I;k(l.concat({type:N,rotationNumber:Number(a),rotationRateMostRecent:0,rotationRate:0})),Ce(),localStorage.setItem("startTime",Object(x.a)(new Date,"HH:mm"))}catch(e){alert(e)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})]}),Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{size:"sm",children:[Object(n.jsx)(d.a.Prepend,{children:Object(n.jsx)(d.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(n.jsx)(O.a,{value:se,onChange:function(e){var t=e.target.value;le(t)},type:"number"})]})}),Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{size:"sm",children:[Object(n.jsx)(d.a.Prepend,{children:Object(n.jsx)(d.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(n.jsx)(O.a,{value:Y,onChange:function(e){G(e.target.value)}})]})}),Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{size:"sm",children:[Object(n.jsx)(d.a.Prepend,{children:Object(n.jsx)(d.a.Text,{children:"\u5e97\u540d"})}),Object(n.jsx)(h.a.Control,{as:"select",value:ee,onChange:function(e){te(e.target.value)},ref:Se,children:Object(n.jsx)(w,{storeNames:X})})]})}),Object(n.jsxs)(b.a,{children:[Object(n.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(n.jsx)("div",{children:ge})]}),Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{size:"sm",children:[Object(n.jsx)(d.a.Prepend,{children:Object(n.jsx)(d.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(n.jsx)(O.a,{value:ce,onChange:function(e){var t=e.target.value;re(t),localStorage.setItem("machineName",t)}})]})}),Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{size:"sm",children:[Object(n.jsx)(d.a.Prepend,{children:Object(n.jsx)(d.a.Text,{children:"\u5099\u8003"})}),Object(n.jsx)(h.a.Control,{as:"textarea",rows:2,value:be,onChange:function(e){var t=e.target.value;me(t)}})]})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var e=new Date,t=Object(x.a)(e,"yyyy/MM/dd"),a=localStorage.getItem("startTime"),n=Object(x.a)(e,"HH:mm"),c=new URLSearchParams;c.append("date","".concat(t," ").concat(a,"\u301c").concat(n)),c.append("border","\u30dc\u30fc\u30c0\u30fc\uff1a".concat(Y)),c.append("rotationRate","\u56de\u8ee2\u7387\uff1a".concat(D)),c.append("rotationUnitPrice","\u56de\u8ee2\u5358\u4fa1\uff1a".concat(ye)),c.append("rotationNumberTotal","\u7dcf\u56de\u8ee2\u6570\uff1a".concat(V)),c.append("workAmount","".concat(Re())),c.append("machineName","".concat(ce)),c.append("storeName","".concat(ee)),c.append("remarks","".concat(be)),F.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",c).then((function(e){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),we()})).catch((function(e){alert(e)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return we()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(n.jsx)(m.a,{children:Object(n.jsx)(f.a,{className:"rotationList",ref:ve,children:Object(n.jsx)(R,{rotations:l})})})]})})})};o.a.render(Object(n.jsx)(M,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.a14360b2.chunk.js.map