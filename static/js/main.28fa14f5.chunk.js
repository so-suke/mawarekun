(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{51:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),c=n(31),o=n.n(c),i=(n(51),n(8)),s=(n(52),n(75)),u=n(76),l=n(40),j=n(81),b=n(41),m=n(77),d=n(79),O=n(80),h=n(78),f=["DoruNakano","LiNakano","NtNakano"],p=new Map([[f[0],"4.38"],[f[1],"4"],[f[2],"4"]]),N="normal",x="continueStart",g="resetStart",v="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",S="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",R="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",I="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",y="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",C=n(32),w=n(33);function k(){var t=Object(C.a)(["\n  font-size: 0.4rem;\n"]);return k=function(){return t},t}var E=Object(w.a)(j.a)(k());function F(t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===t.rotationNumberInputed)throw R;t.setRotations(t.rotations.concat({type:x,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:t.rotationRate})),t.clearRotationNumberInputed()}catch(e){alert(e)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function T(t){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(E,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(t.isResetStarted())throw S;if(""===t.rotationNumberInputed)throw R;if(""===t.selectStoreRef.current.value)throw I;t.setRotations(t.rotations.concat({type:g,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),t.clearRotationNumberInputed(),localStorage.setItem("startTime",Object(h.a)(new Date,"HH:mm"))}catch(e){alert(e)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}function M(t){return Object(a.jsx)(a.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(e){return Object(a.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return t.setRotationNumberInputed(t.rotationNumberInputed+e)},children:e},e)}))})}function D(t){return Object(a.jsx)(a.Fragment,{children:t.rotations.map((function(t,e){var n="";return t.type===g?n="".concat(t.rotationNumber," --start--"):t.type===x?n="".concat(t.rotationNumber," > start"):t.type===N&&(n="".concat(t.rotationNumber," ").concat(t.rotationRateMostRecent," ").concat(t.rotationRate)),Object(a.jsx)(O.a.Item,{children:n},e)}))})}var P=n(43);function z(t){var e=[Object(a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],n=t.storeNames.map((function(t){return Object(a.jsx)("option",{value:t,children:t},t)})),r=[e].concat(Object(P.a)(n));return Object(a.jsx)(a.Fragment,{children:r})}var H=n(54).default;var J=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)([]),S=Object(i.a)(o,2),R=S[0],I=S[1],C=Object(r.useState)(0),w=Object(i.a)(C,2),k=w[0],E=w[1],P=Object(r.useState)(0),J=Object(i.a)(P,2),A=J[0],B=J[1],L=Object(r.useState)(0),V=Object(i.a)(L,2),Q=V[0],U=V[1],W=Object(r.useState)("18.0"),Y=Object(i.a)(W,2),G=Y[0],K=Y[1],q=Object(r.useState)(""),X=Object(i.a)(q,2),Z=X[0],$=X[1],_=Object(r.useState)(""),tt=Object(i.a)(_,2),et=tt[0],nt=tt[1],at=Object(r.useState)(""),rt=Object(i.a)(at,2),ct=rt[0],ot=rt[1],it=Object(r.useState)(""),st=Object(i.a)(it,2),ut=st[0],lt=st[1],jt=Object(r.useState)(""),bt=Object(i.a)(jt,2),mt=bt[0],dt=bt[1],Ot=Object(r.useRef)(null),ht=Object(r.useRef)(document.createElement("select"));Object(r.useEffect)((function(){var t=localStorage.getItem("investmentCnt")||"0",e=JSON.parse(localStorage.getItem("rotations")||"[]"),n=localStorage.getItem("storeName")||"",a=localStorage.getItem("machineName")||"",r=localStorage.getItem("ballNumberComfirm")||"",c=localStorage.getItem("border")||"",o=localStorage.getItem("remarks")||"";B(Number(t)),$(n),I(e),nt(a),ot(r),K(c),lt(o),E(function(t){return 0===t.length?0:t[t.length-1].rotationRate}(e)),U(function(t){var e=0;return t.forEach((function(n,a){n.type!==g&&n.type!==x&&(e+=n.rotationNumber-t[a-1].rotationNumber)})),e}(e))}),[]),Object(r.useEffect)((function(){Ot.current.scrollTop=Ot.current.scrollHeight,localStorage.setItem("rotations",JSON.stringify(R))}),[R]),Object(r.useEffect)((function(){localStorage.setItem("investmentCnt",""+A)}),[A]),Object(r.useEffect)((function(){localStorage.setItem("border",G)}),[G]),Object(r.useEffect)((function(){localStorage.setItem("ballNumberComfirm",ct)}),[ct]),Object(r.useEffect)((function(){localStorage.setItem("remarks",ut)}),[ut]),Object(r.useEffect)((function(){var t=p.get(Z);dt(String(t)),localStorage.setItem("storeName",Z)}),[Z]);var ft=Object(r.useMemo)((function(){return 0===k?0:Number((1e3/Number(G)-1e3/k).toFixed(1))}),[G,k]);function pt(){return R.length>0&&R[0].type===g}function Nt(){c("")}function xt(){return(ft*Q).toFixed(0)}function gt(t){try{if(!p.has(t))throw new Error(y);var e=p.get(t)||"4";return Number((500/Number(e)).toFixed())}catch(n){return alert(n),125}}function vt(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(I([]),E(0),B(0),U(0),ot(""),nt(""),lt(""))}function St(){var t=Number(n);if(String(n).length<3&&String(R[R.length-1].rotationNumber).length>1){var e=String(R[R.length-1].rotationNumber).length,a=Number(String(R[R.length-1].rotationNumber).slice(e-2,e)),r=String(R[R.length-1].rotationNumber).slice(0,e-2);t+=100*(t>a?Number(r):Number(r)+1)}return t}return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(s.a,{className:"pt-3",children:Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(l.a,{children:[Object(a.jsxs)("p",{className:"mb-0",children:["\u56de\u8ee2\u5358\u4fa1\uff1a",Object(a.jsx)("span",{children:ft})]}),Object(a.jsxs)("p",{className:"mb-0",children:["\u7dcf\u56de\u8ee2\u6570\uff1a",Object(a.jsx)("span",{children:Q})]}),Object(a.jsxs)("p",{className:"mb-0",children:["\u4ed5\u4e8b\u91cf\uff1a",Object(a.jsx)("span",{children:xt()})]}),Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var t=R.length;if(0!==t){var e=R[R.length-1];e.type===N&&B(A-1);var n=R.filter((function(e,n){return n!==t-1}));if(1===n.length||0===n.length?E(0):E(n[n.length-1].rotationRate),e.type===N&&n.length>0){var a=R[R.length-1].rotationNumber-n[n.length-1].rotationNumber;U(Q-a)}I(n),ot(String(Number(ct)+gt(Z)))}}()},children:"1\u884c\u524a\u9664"})}),Object(a.jsx)(b.a,{className:"mb-1",id:"rotationNumberInput",value:n,onChange:function(t){c(t.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(a.jsxs)(u.a,{className:"m-0 mb-2",children:[Object(a.jsx)(M,{setRotationNumberInputed:c,rotationNumberInputed:n}),Object(a.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return Nt()},children:"C"}),Object(a.jsx)(j.a,{variant:"primary",className:"col-4"}),Object(a.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(!1===pt())throw v;var t=A+1,e=St(),n=Number(e)-R[R.length-1].rotationNumber,a=Number(mt)/4,r=Number((2*n*a).toFixed(1)),c=Q+n,o=Number((c*(1e3/(500*t))*a).toFixed(1));Nt(),B(t),U(c),E(o),I(R.concat({type:N,rotationNumber:Number(e),rotationRateMostRecent:r,rotationRate:o})),ot(String(Number(ct)-gt(Z)))}catch(i){alert(i)}}()},children:"\u56de\u8ee2"}),Object(a.jsx)(F,{rotationNumberInputed:n,rotationRate:k,rotations:R,clearRotationNumberInputed:Nt,setRotations:I}),Object(a.jsx)(T,{rotationNumberInputed:n,rotations:R,selectStoreRef:ht,isResetStarted:pt,clearRotationNumberInputed:Nt,setRotations:I})]}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(m.a,{size:"sm",children:[Object(a.jsx)(m.a.Prepend,{children:Object(a.jsx)(m.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(a.jsx)(b.a,{value:ct,onChange:function(t){var e=t.target.value;ot(e)},type:"number"})]})}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(m.a,{size:"sm",children:[Object(a.jsx)(m.a.Prepend,{children:Object(a.jsx)(m.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(a.jsx)(b.a,{value:G,onChange:function(t){K(t.target.value)}})]})}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(m.a,{size:"sm",children:[Object(a.jsx)(m.a.Prepend,{children:Object(a.jsx)(m.a.Text,{children:"\u5e97\u540d"})}),Object(a.jsx)(d.a.Control,{as:"select",value:Z,onChange:function(t){$(t.target.value)},ref:ht,children:Object(a.jsx)(z,{storeNames:f})})]})}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(a.jsx)("div",{children:mt})]}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(m.a,{size:"sm",children:[Object(a.jsx)(m.a.Prepend,{children:Object(a.jsx)(m.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(a.jsx)(b.a,{value:et,onChange:function(t){var e=t.target.value;nt(e),localStorage.setItem("machineName",e)}})]})}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(m.a,{size:"sm",children:[Object(a.jsx)(m.a.Prepend,{children:Object(a.jsx)(m.a.Text,{children:"\u5099\u8003"})}),Object(a.jsx)(d.a.Control,{as:"textarea",rows:2,value:ut,onChange:function(t){var e=t.target.value;lt(e)}})]})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var t=new Date,e=Object(h.a)(t,"yyyy/MM/dd"),n=localStorage.getItem("startTime"),a=Object(h.a)(t,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(e)),r.append("timeStart","".concat(n)),r.append("timeEnd","".concat(a)),r.append("border","".concat(G)),r.append("rotationRate","".concat(k)),r.append("rotationUnitPrice","".concat(ft)),r.append("rotationNumberTotal","".concat(Q)),r.append("workAmount","".concat(xt())),r.append("machineName","".concat(et)),r.append("storeName","".concat(Z)),r.append("remarks","".concat(ut)),H.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",r).then((function(t){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),vt()})).catch((function(t){alert(t)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return vt()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(a.jsx)(l.a,{children:Object(a.jsx)(O.a,{className:"rotationList",ref:Ot,children:Object(a.jsx)(D,{rotations:R})})})]})})})};o.a.render(Object(a.jsx)(J,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.28fa14f5.chunk.js.map