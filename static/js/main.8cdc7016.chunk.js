(this.webpackJsonpmawarekun=this.webpackJsonpmawarekun||[]).push([[0],{46:function(t,e,a){},71:function(t,e,a){"use strict";a.r(e);var n,r,c=a(0),o=a(32),i=a.n(o),s=(a(46),a(8)),u=(a(47),a(72)),l=a(73),b=a(38),j=a(78),m=a(39),d=a(74),O=a(77),h=a(76),f=a(75),p=a(15),N=["DoruNakano","LiNakano","NtNakano"],x=new Map([[N[0],4.38],[N[1],4],[N[2],4]]),g=(n={},Object(p.a)(n,N[0],114),Object(p.a)(n,N[1],125),Object(p.a)(n,N[2],125),n),v="normal",S="continueStart",I="resetStart",R="\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3092\u3057\u307e\u3057\u3087\u3046",y="\u65e2\u306b\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059",C="\u56de\u8ee2\u6570\u3092\u5165\u529b\u3057\u307e\u3057\u3087\u3046",w="\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",k="\u30a8\u30e9\u30fc\u53ef\u80fd\u6027\u3002\u5b58\u5728\u3057\u306a\u3044\u5e97\u540d\u304c\u6e21\u3055\u308c\u307e\u3057\u305f\u3002",E=function(t){return t[t.length-1]},F=a(33),T=a(34),M=Object(T.a)(j.a)(r||(r=Object(F.a)(["\n  font-size: 0.4rem;\n"]))),P=a(1);function D(t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(M,{variant:"primary",className:"col-4",onClick:function(){return function(){try{if(""===t.rotationNumberInputed)throw C;t.setIsCorrectBallNumberConfirm(!1),t.setRotations(t.rotations.concat({type:S,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:t.rotationRate})),t.clearRotationNumberInputed()}catch(e){alert(e)}}()},children:"\u7d99\u7d9a\u30b9\u30bf\u30fc\u30c8"})," "]})}function z(t){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(M,{id:"resetStartButton",variant:"primary",className:"col-4",onClick:function(){return function(){try{if(t.isResetStarted())throw y;if(""===t.rotationNumberInputed)throw C;if(""===t.selectStoreRef.current.value)throw w;t.setRotations(t.rotations.concat({type:I,rotationNumber:Number(t.rotationNumberInputed),rotationRateMostRecent:0,rotationRate:0})),t.clearRotationNumberInputed(),localStorage.setItem("startTime",Object(f.a)(new Date,"HH:mm"))}catch(e){alert(e)}}()},children:"\u30ea\u30bb\u30c3\u30c8\u30b9\u30bf\u30fc\u30c8"})})}function B(t){return Object(P.jsx)(P.Fragment,{children:["7","8","9","4","5","6","1","2","3","0"].map((function(e){return Object(P.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return t.setRotationNumberInputed(t.rotationNumberInputed+e)},children:e},e)}))})}function H(t){return Object(P.jsx)(P.Fragment,{children:t.rotations.map((function(t,e){var a="";return t.type===I?a="".concat(t.rotationNumber," --start--"):t.type===S?a="".concat(t.rotationNumber," > start"):t.type===v&&(a="".concat(t.rotationNumber," ").concat(t.rotationRateMostRecent," ").concat(t.rotationRate)),Object(P.jsx)(h.a.Item,{children:a},e)}))})}var J=a(40);function A(t){var e=[Object(P.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\u5e97\u540d\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002"},"defaultValue")],a=t.storeNames.map((function(t){return Object(P.jsx)("option",{value:t,children:t},t)})),n=[e].concat(Object(J.a)(a));return Object(P.jsx)(P.Fragment,{children:n})}var L=a(50).default;var V=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),a=e[0],n=e[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),i=o[0],p=o[1],y=Object(c.useState)(0),C=Object(s.a)(y,2),w=C[0],F=C[1],T=Object(c.useState)(0),M=Object(s.a)(T,2),J=M[0],V=M[1],Q=Object(c.useState)(0),U=Object(s.a)(Q,2),W=U[0],Y=U[1],G=Object(c.useState)("18.0"),K=Object(s.a)(G,2),q=K[0],X=K[1],Z=Object(c.useState)(""),$=Object(s.a)(Z,2),_=$[0],tt=$[1],et=Object(c.useState)(""),at=Object(s.a)(et,2),nt=at[0],rt=at[1],ct=Object(c.useState)(""),ot=Object(s.a)(ct,2),it=ot[0],st=ot[1],ut=Object(c.useState)(""),lt=Object(s.a)(ut,2),bt=lt[0],jt=lt[1],mt=Object(c.useState)(""),dt=Object(s.a)(mt,2),Ot=dt[0],ht=dt[1],ft=Object(c.useState)(!0),pt=Object(s.a)(ft,2),Nt=pt[0],xt=pt[1],gt=Object(c.useRef)(null),vt=Object(c.useRef)(document.createElement("select"));Object(c.useEffect)((function(){var t=localStorage.getItem("investmentCnt")||"0",e=JSON.parse(localStorage.getItem("rotations")||"[]"),a=localStorage.getItem("storeName")||"",n=localStorage.getItem("machineName")||"",r=localStorage.getItem("ballNumberConfirm")||"",c=localStorage.getItem("border")||"",o=localStorage.getItem("remarks")||"";V(Number(t)),tt(a),p(e),rt(n),st(r),X(c),jt(o),F(function(t){return 0===t.length?0:E(t).rotationRate}(e)),Y(function(t){var e=0;return t.forEach((function(a,n){a.type!==I&&a.type!==S&&(e+=a.rotationNumber-t[n-1].rotationNumber)})),e}(e))}),[]),Object(c.useEffect)((function(){gt.current.scrollTop=gt.current.scrollHeight,localStorage.setItem("rotations",JSON.stringify(i))}),[i]),Object(c.useEffect)((function(){localStorage.setItem("investmentCnt",""+J)}),[J]),Object(c.useEffect)((function(){localStorage.setItem("border",q)}),[q]),Object(c.useEffect)((function(){localStorage.setItem("ballNumberConfirm",it)}),[it]),Object(c.useEffect)((function(){localStorage.setItem("remarks",bt)}),[bt]),Object(c.useEffect)((function(){var t=x.get(_);ht(String(t)),localStorage.setItem("storeName",_)}),[_]);var St=Object(c.useMemo)((function(){return 0===w?0:Number((1e3/Number(q)-1e3/w).toFixed(1))}),[q,w]);function It(){return i.length>0&&i[0].type===I}function Rt(){n("")}function yt(){return(St*W).toFixed(0)}function Ct(t){try{if(!g.hasOwnProperty(t))throw new Error(k);return g[t]}catch(e){return alert(e),125}}function wt(){window.confirm("\u5168\u884c\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&(p([]),F(0),V(0),Y(0),st(""),rt(""),jt(""))}function kt(){try{if(!1===It())throw R;""===it||Number(it)<Ct(_)?xt(!1):xt(!0);var t=J+1,e=String(a).length<3&&String(E(i).rotationNumber).length>1?function(){var t=String(E(i).rotationNumber),e=function(){var e=Number(t.slice(0,-2));return function(t,e){return t>e}(Number(t.slice(-2)),Number(a))?e+1:e}(),n=("00"+a).slice(-2);return Number(e+n)}():Number(a),n=Number(e)-E(i).rotationNumber,r=Number(Ot)/4,c=Number((2*n*r).toFixed(1)),o=W+n,s=Number((o*(1e3/(500*t))*r).toFixed(1));Rt(),V(t),Y(o),F(s),p(i.concat({type:v,rotationNumber:Number(e),rotationRateMostRecent:c,rotationRate:s})),st(String(Number(it)-Ct(_)))}catch(u){alert(u)}}return Object(P.jsx)("div",{className:"App",children:Object(P.jsx)(u.a,{className:"pt-3 ".concat(Nt?"":"bg-warning"),children:Object(P.jsxs)(l.a,{children:[Object(P.jsxs)(b.a,{children:[Object(P.jsxs)("p",{className:"mb-0",children:["\u56de\u8ee2\u5358\u4fa1\uff1a",Object(P.jsx)("span",{children:St})]}),Object(P.jsxs)("p",{className:"mb-0",children:["\u7dcf\u56de\u8ee2\u6570\uff1a",Object(P.jsx)("span",{children:W})]}),Object(P.jsxs)("p",{className:"mb-0",children:["\u4ed5\u4e8b\u91cf\uff1a",Object(P.jsx)("span",{children:yt()})]}),Object(P.jsx)(l.a,{children:Object(P.jsx)(j.a,{className:"mb-1",variant:"primary",onClick:function(){return function(){var t=i.length;if(0!==t){xt(!0),E(i).type===v&&V(J-1);var e=i.filter((function(e,a){return a!==t-1}));if(1===e.length||0===e.length?F(0):F(E(e).rotationRate),E(i).type===v&&e.length>0){var a=E(i).rotationNumber-E(e).rotationNumber;Y(W-a)}p(e),st(String(Number(it)+Ct(_)))}}()},children:"1\u884c\u524a\u9664"})}),Object(P.jsx)(m.a,{className:"mb-1",id:"rotationNumberInput",value:a,onChange:function(t){n(t.target.value)},placeholder:"\u56de\u8ee2\u6570\u5165\u529b"}),Object(P.jsxs)(l.a,{className:"m-0 mb-2",children:[Object(P.jsx)(B,{setRotationNumberInputed:n,rotationNumberInputed:a}),Object(P.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return Rt()},children:"C"}),Object(P.jsx)(j.a,{variant:"primary",className:"col-4"}),Object(P.jsx)(j.a,{variant:"primary",className:"col-4",onClick:function(){return kt()},children:"\u56de\u8ee2"}),Object(P.jsx)(D,{rotationNumberInputed:a,rotationRate:w,rotations:i,clearRotationNumberInputed:Rt,setRotations:p,setIsCorrectBallNumberConfirm:xt}),Object(P.jsx)(z,{rotationNumberInputed:a,rotations:i,selectStoreRef:vt,isResetStarted:It,clearRotationNumberInputed:Rt,setRotations:p})]}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u78ba\u8a8d\u7528\u7389\u6570"})}),Object(P.jsx)(m.a,{value:it,"data-testid":"ball-number-confirm",onChange:function(t){var e=t.target.value;st(e)},type:"number"})]})}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u30dc\u30fc\u30c0\u30fc"})}),Object(P.jsx)(m.a,{value:q,"data-testid":"border",onChange:function(t){X(t.target.value)}})]})}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u5e97\u540d"})}),Object(P.jsx)(O.a.Control,{as:"select",value:_,onChange:function(t){tt(t.target.value)},ref:vt,children:Object(P.jsx)(A,{storeNames:N})})]})}),Object(P.jsxs)(l.a,{children:[Object(P.jsx)("div",{className:"mr-2",children:"\u4ea4\u63db\u7387:"}),Object(P.jsx)("div",{children:Ot})]}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u6a5f\u7a2e\u540d"})}),Object(P.jsx)(m.a,{value:nt,onChange:function(t){var e=t.target.value;rt(e),localStorage.setItem("machineName",e)}})]})}),Object(P.jsx)(l.a,{children:Object(P.jsxs)(d.a,{size:"sm",children:[Object(P.jsx)(d.a.Prepend,{children:Object(P.jsx)(d.a.Text,{children:"\u5099\u8003"})}),Object(P.jsx)(O.a.Control,{as:"textarea",rows:2,value:bt,onChange:function(t){var e=t.target.value;jt(e)}})]})}),Object(P.jsx)(l.a,{children:Object(P.jsx)(j.a,{className:"mt-5",variant:"primary",onClick:function(){return function(){var t=new Date,e=Object(f.a)(t,"yyyy/MM/dd"),a=localStorage.getItem("startTime"),n=Object(f.a)(t,"HH:mm"),r=new URLSearchParams;r.append("date","".concat(e)),r.append("timeStart","".concat(a)),r.append("timeEnd","".concat(n)),r.append("border","".concat(q)),r.append("rotationRate","".concat(w)),r.append("rotationUnitPrice","".concat(St)),r.append("rotationNumberTotal","".concat(W)),r.append("workAmount","".concat(yt())),r.append("machineName","".concat(nt)),r.append("storeName","".concat(_)),r.append("remarks","".concat(bt)),L.post("https://script.google.com/macros/s/AKfycbwAEFQ6VWnrJ67EjQiYd8WeEv0D2ogBpV2GYDgxucx9C5gf1Dmd/exec",r).then((function(t){alert("\u66f8\u8fbc\u304c\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),wt()})).catch((function(t){alert(t)}))}()},children:"\u8868\u66f8\u8fbc\uff06\u5168\u524a"})}),Object(P.jsx)(l.a,{children:Object(P.jsx)(j.a,{className:"allDeteleBtn",variant:"primary",onClick:function(){return wt()},children:"\u5168\u884c\u524a\u9664"})})]}),Object(P.jsx)(b.a,{children:Object(P.jsx)(h.a,{className:"rotationList",ref:gt,children:Object(P.jsx)(H,{rotations:i})})})]})})})};i.a.render(Object(P.jsx)(V,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.8cdc7016.chunk.js.map